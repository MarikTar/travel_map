{"version":3,"sources":["component/Auth/PrivateRouter.jsx","Firebase/FireBase.js","Services/ServiceFirebaseStore.js","component/Modal/Modal.jsx","component/ProfileUser/ProfileUser.jsx","Services/ServiceGeoCordinats.js","component/MapLeaflet/Map.jsx","component/CountryList/CountryList.jsx","Services/ServiceDB.js","Services/ServiceGeocoder.js","Services/ServiceGPS.js","component/Dashboard/Dashboard.jsx","component/Auth/AuthInput.jsx","component/Auth/SignIn/SigninView.jsx","component/Auth/SignIn/SigninController.jsx","component/Auth/SignUp/SignUpView.jsx","component/Auth/SignUp/SignUpController.jsx","component/Auth/SocialsAuthorization.jsx","component/Auth/Auth.jsx","component/App/App.jsx","serviceWorker.js","index.jsx"],"names":["PrivateRoute","_ref","Component","component","authenticated","rest","Object","objectWithoutProperties","react_default","a","createElement","react_router","assign","render","props","FireBase","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","ServiceFirebaseStore","uid","auth","currentUser","baseAvataUrl","baseCloudPhoto","pictureFile","callback","_this","this","storage","ref","concat","put","then","snapshot","getDownloadURL","url","updateProfile","photoURL","database","set","avatar","error","console","log","setAvatar","fetch","res","ok","blob","reader","FileReader","readAsDataURL","onloadend","result","country","file","name","Modal","onCancel","onSave","onRef","rangeZoom","onChangeZoom","updateFile","className","dist_default","image","width","height","border","borderRadius","color","scale","rotate","react_input_slider_dist_index_esm","axis","x","xmin","xmax","xstep","onChange","onClick","ProfileUser","FirebaseStore","fileInput","React","createRef","inputFile","user","state","defaultAvatar","cropperOpen","img","zoom","isOpen","handlerChange","evt","files","target","window","URL","createObjectURL","current","value","handlerResetZommSlider","setState","handlerClick","click","handlerSave","editor","getImageScaledToCanvas","toBlob","handlerCancel","handlerZoomSlider","setEditorRef","updateUserProfile","setDefaultAvatar","nextProps","nextState","nextContext","updateProfileUserAvatar","getStoreDefaultAvatar","_this$state","Fragment","CSSTransition","in","timeout","classNames","unmountOnExit","type","title","src","alt","accept","multiple","ServiceGeoCordinats","getCordinates","_callee","id","response","regenerator_default","wrap","_context","prev","next","json","sent","abrupt","latlng","stop","MapLeaFlet","countrys","serviceGeoCordinate","ServiceGeoCordinate","customIconMarker","divIcon","html","buttonAddPhoto","lat","lng","marks","openWindow","onMouseOut","resetStyle","layer","onMouseOver","ctx","setStyle","weight","fillOpacity","onClickGetCountry","feature","properties","setMainState","onClickAddCustomElement","countryId","remove","cordinates","marker","icon","addTo","document","getElementById","addEventListener","lon","toConsumableArray","markedСountries","includes","position","Map","center","maxBounds","TileLayer","minZoom","maxZoom","GeoJSON","data","MapGeo","style","layerStyled","bind","CountryList","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","filter","event","filtertext","trim","toLowerCase","countryList","features","sort","b","_this2","placeholder","filterCountries","lib","map","indexOf","CountryList_Country","key","Country","CountryList_AddPhoto","add","onAdd","AddPhoto","ServiceDB","serviceStore","child","once","appealToDB","val","values","location","forEach","city","addFileStore","update","defineProperty","array","ServiceGeocoder","serviceDB","APIKEY","APIURL","encodeURIComponent","toString","generateId","shortid","generate","coordinates","setDataDB","results","components","GPSLatitude","GPSLongitude","getDataGpsFromDB","ServiceGPS","numerator","denominator","EXIF","getData","getGPS","getTag","alert","Geocoder","getGeocoder","Dashboard","serviceGps","updateGpsData","loading","updateCountrys","Array","from","uploadPhotos","getError","getCountriesFromDB","setCountryAtDB","setGPSCoordinatesDB","ProfileUser_ProfileUser","signOut","Map_MapLeaFlet","CountryList_CountryList","AuthInput","onShowPassword","reference","eye","autoFocus","isType","isValid","autoComplete","charAt","toUpperCase","slice","opacity","message","signIn","onSubmit","isFormValidate","isCustomValidate","fireBaseError","onToggleType","noValidate","disabled","SignInController","email","password","formValidate","isTypeInput","customValidation","fireBaseLoading","handleSubmit","_event$target$element","preventDefault","elements","processing","signInWithEmailAndPassword","history","push","t0","_this$setState","_evt$target","validEmail","validPassword","length","every","test","String","_this$state2","handlerShowPassword","SignUpView","SignUpController","re-password","createUserWithEmailAndPassword","validPasword","validRePassowrd","_evt$target$previousE","previousElementSibling","SocialsAuthorization","providerGoogle","GoogleAuthProvider","providerFacebook","FacebookAuthProvider","signInGoogle","signInWithPopup","signInFacebook","Auth","pathname","currentPath","authInfo","react_router_dom","to","role","SocialsAuthorization_SocialsAuthorization","exact","path","SignIn","SignUp","withRouter","App","loaded","onAuthStateChanged","component_Auth_Auth","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","component_App_App","process","href","origin","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.3823dc3b.chunk.js","sourcesContent":["import React from \"react\";\nimport { Route } from \"react-router-dom\";\n\nexport default function PrivateRoute({component: Component, authenticated, ...rest}) {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        authenticated === true ? (\n          <Component {...props} {...rest} />\n        ) : (\n         null\n        )\n      }\n    />\n  );\n}\n","import * as firebase from \"firebase/app\";\n\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\n\nexport default class FireBase {\n  static firebase = firebase.initializeApp({\n    apiKey: \"AIzaSyAeWjiyVZdXS_ZIuJIX4likai5G26c4-Ss\",\n    authDomain: \"travelmap-ad11c.firebaseapp.com\",\n    databaseURL: \"https://travelmap-ad11c.firebaseio.com\",\n    projectId: \"travelmap-ad11c\",\n    storageBucket: \"travelmap-ad11c.appspot.com\",\n    messagingSenderId: \"668836694216\",\n    appId: \"1:668836694216:web:a35a52bff6a53cf2\"\n  });\n}\n","import FireBase from \"../Firebase/FireBase\";\n\nexport default class ServiceFirebaseStore {\n  uid = FireBase.firebase.auth().currentUser.uid;\n  baseAvataUrl = 'user/cloud-avatar-user';\n  baseCloudPhoto = 'user/cloud-photos';\n\n\tupdateProfileUserAvatar(pictureFile, callback) {\t\t\n    const avatarRef = FireBase.firebase.storage().ref(`${this.baseAvataUrl}/${this.uid}/avatar`);\n\t\tavatarRef.put(pictureFile).then( snapshot => {\n      snapshot.ref.getDownloadURL().then(url => {\n        FireBase.firebase.auth().currentUser.updateProfile({photoURL: url})\n          .then(() => {\n            FireBase.firebase.database().ref(`${this.baseAvataUrl}/${this.uid}`)\n              .set({\"avatar\": url});\n              callback(url);\n          }, error => console.log(error));\n      })\n    });\n  }\n  \n  getStoreDefaultAvatar(setAvatar) {\n    const ref = FireBase.firebase.storage().ref(`${this.baseAvataUrl}/default-avatar/user.png`);\n    ref.getDownloadURL()\n     .then(url => {\n        fetch(url).then(res => {\n          if (res.ok) {\n            return res.blob();\n          }\n        })\n        .then(blob => {\n          const reader = new FileReader();\n          reader.readAsDataURL(blob); \n          reader.onloadend = () => setAvatar(reader.result);\n        });\n      })\n  }\n\n  addFileStore(country, file) {\n    FireBase.firebase.storage().ref(`${this.baseCloudPhoto}/${this.uid}/${country}/${file.name}`)\n      .put(file);\n  }\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport InputRange from 'react-input-slider';\r\nimport Cropper from 'react-avatar-editor';\r\nimport './modal.css';\r\n\r\nexport default function Modal(props) {\r\n\tconst { avatar, onCancel, onSave, onRef, rangeZoom, onChangeZoom, updateFile } = props;\r\n\r\n\treturn(\r\n\t\t<div className='modal-mask'>\r\n\t\t\t<div className='modal'>\r\n\t\t\t\t<Cropper\r\n\t\t\t\t\tref={ onRef }\r\n\t\t\t\t\timage={ avatar }\r\n\t\t\t\t\twidth={ 250 }\r\n\t\t\t\t\theight={ 250 }\r\n\t\t\t\t\tborder={ 0 }\r\n\t\t\t\t\tborderRadius={ 250 * 2 }\r\n\t\t\t\t\tcolor={ [255, 255, 255, 0.6] }\r\n\t\t\t\t\tscale={ rangeZoom }\r\n\t\t\t\t\trotate={ 0 }\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"crop-title\">Select an area for your profile photo</span>\r\n\t\t\t\t<InputRange \r\n\t\t\t\t\taxis=\"x\"\r\n\t\t\t\t\tx={ rangeZoom }\r\n\t\t\t\t\txmin={ 1 }\r\n\t\t\t\t\txmax={ 10 }\r\n\t\t\t\t\txstep={ 0.1 }\r\n\t\t\t\t\tonChange={ ({ x }) => onChangeZoom(x) }\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"crop-controls\">\r\n\t\t\t\t\t<button className=\"crop-control\" onClick={ onCancel }>Cancel</button>\r\n\t\t\t\t\t<button className=\"crop-control\" onClick={ onSave }>{ updateFile ? <span className=\"upload-loading crop-loading\" /> : null }Save</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nModal.propTypes = {\r\n\tavatar: PropTypes.string,\r\n\tonCancel: PropTypes.func,\r\n\tonSave: PropTypes.func,\r\n\tonRef: PropTypes.func,\r\n\trangeZoom: PropTypes.number,\r\n\tonChangeZoom: PropTypes.func,\r\n\tupdateFile: PropTypes.bool\r\n}","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { CSSTransition } from 'react-transition-group';\nimport ServiceFirebaseStore from \"../../Services/ServiceFirebaseStore\";\nimport Modal from '../Modal/Modal';\n\nexport default class ProfileUser extends Component {\n  static propTypes = {\n    photoURL: PropTypes.object\n  };\n\n  FirebaseStore = new ServiceFirebaseStore();\n  fileInput = React.createRef();\n  inputFile = React.createRef();\n  uid = this.props.user.uid;\n\n  state = {\n    pictureFile: null,\n    defaultAvatar: null,\n    updateFile: false, \n    cropperOpen: false,\n    img: null,\n    zoom: 1,\n    isOpen: false\n   };\n\n  componentWillUpdate(nextProps, nextState, nextContext) {\n    if (nextState.pictureFile !== this.state.pictureFile) {\n      this.FirebaseStore.updateProfileUserAvatar(nextState.pictureFile, this.updateUserProfile);\n    }\n\n    if (!nextState.defaultAvatar && !nextProps.user.photoURL) {\n      this.FirebaseStore.getStoreDefaultAvatar(this.setDefaultAvatar);\n    }\n  };\n\n  handlerChange = evt => {\n    const files = evt.target.files[0];\n    const url = window.URL.createObjectURL(files);\n    this.fileInput.current.value = '';\n    this.handlerResetZommSlider();\n\n    this.setState({\n      cropperOpen: true,\n      img: url,\n      isOpen: true,\n      updateFile: false\n    });\n  };\n\n  handlerClick = () => {\n    this.fileInput.current.click();\n  };\n\n  handlerSave = () => {\n    if (this.editor) {\n      const canvasScaled = this.editor.getImageScaledToCanvas();\n\n      canvasScaled.toBlob(blob => {\n        // const cropperImg = canvasScaled.toDataURL();\n\n        this.setState({\n          pictureFile: blob,\n          cropperOpen: false,\n          updateFile: true\n        });\n      });\n    }\n  };\n\n  handlerCancel = () => {\n    this.handlerResetZommSlider();\n\n    this.setState({\n      cropperOpen: false,\n      isOpen: false\n    });\n  };\n\n  handlerZoomSlider = value => {\n    this.setState({zoom: value});\n  };\n\n  handlerResetZommSlider = () => {\n    this.setState({zoom: 1});\n  };\n\n  setEditorRef = editor => this.editor = editor;\n\n  updateUserProfile = url => {\n    if (url) {\n      this.setState({\n        isOpen: false\n      });\n    }\n  };\n\n  setDefaultAvatar = url => {\n    if (url) {\n      this.setState({defaultAvatar: url});\n    }\n  }\n\n  render() {\n    const { photoURL } = this.props.user;\n    const { defaultAvatar, img, zoom, isOpen, updateFile } = this.state;\n\n    return(\n      <>\n        <CSSTransition\n          in={ isOpen }\n          timeout={ 300 }\n          classNames=\"popup\"\n          unmountOnExit\n        >\n          <Modal \n            onCancel={ this.handlerCancel }\n            onSave={ this.handlerSave }\n            onRef={ this.setEditorRef }\n            avatar={ img }\n            rangeZoom={ zoom }\n            onChangeZoom={ this.handlerZoomSlider }\n            updateFile={ updateFile }\n          /> \n        </CSSTransition>\n        <button\n          type=\"button\"\n          title=\"add profile photo\"\n          className=\"upload-file profile-avatar\"\n          onClick={ this.handlerClick }\n        > \n          <span className=\"profile-avatar-label\">Add</span>\n          { !(defaultAvatar || photoURL) ? <span className=\"upload-loading\" /> : <img src={ !photoURL ? defaultAvatar : photoURL } alt=\"add profile photo\"/> }\n        </button>\n        <input\n          accept=\"image/jpeg,image/png\"\n          type=\"file\"\n          multiple={ false }\n          className=\"input-file\"\n          onChange={ this.handlerChange }\n          ref={ this.fileInput }\n        />\n      </>\n    )\n  };\n}","export default class ServiceGeoCordinats {\r\n\tgetCordinates = async (id) => {\r\n\t\tconst response = await fetch(`https://restcountries.eu/rest/v2/alpha/${id}/?fields=latlng`).then(response => {\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn response.json();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn response.latlng;\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { divIcon, marker } from \"leaflet\";\r\nimport { Map, Marker, TileLayer, GeoJSON } from 'react-leaflet';\r\nimport MapGeo from './map.geo.json';\r\nimport ServiceGeoCordinate from '../../Services/ServiceGeoCordinats';\r\nimport './map.css';\r\n\r\nexport default class MapLeaFlet extends Component {\r\n  static propTypes = {\r\n    lat: PropTypes.number,\r\n    lon: PropTypes.number,\r\n    country: PropTypes.array\r\n  }\r\n\r\n  countrys = [];\r\n  serviceGeoCordinate = new ServiceGeoCordinate();\r\n  customIconMarker = divIcon({\r\n    html: `<button id='bap'>TEST</button>`,\r\n    className: 'iconButtonAddPhoto',\r\n  });\r\n  buttonAddPhoto = null;\r\n\r\n  state = {\r\n    lat: 55,\r\n    lng: 10,\r\n    marks: [],\r\n    countrys: null,\r\n    openWindow: false,\r\n  }\r\n\r\n  componentWillUpdate(nextProps, nextState) {\r\n    const { lat, lon, country } = nextProps;\r\n    const { marks } = this.state;\r\n\r\n    if (lat !== this.props.lat && lon !== this.props.lon) {\r\n      this.setState({\r\n        marks: [\r\n          ...marks,\r\n          [ lat, lon ]\r\n        ]\r\n      });\r\n    }\r\n\r\n    if (country !== this.props.country) {\r\n      this.countrys = country;\r\n    }\r\n  }\r\n\r\n  layerStyled({ properties }) {\r\n    const country = properties.name;\r\n    return {\r\n      color: '#000',\r\n      weight: 1.5,\r\n      fillOpacity: this.markedСountries(country)\r\n    }\r\n  }\r\n\r\n  markedСountries(country) {\r\n    return this.countrys.includes(country) ? 0.2 : 0.8;\r\n  }\r\n\r\n  onMouseOut = evt => {\r\n    evt.target.resetStyle(evt.layer);\r\n  }\r\n\r\n  onMouseOver = (evt) => {\r\n    const ctx = evt.layer;\r\n    if (typeof ctx.setStyle === 'function') {\r\n      ctx.setStyle({\r\n        weight: 3,\r\n        color: '#666',\r\n        fillOpacity: 0.7,\r\n      })\r\n    }\r\n  }\r\n\r\n  onClickGetCountry = evt => {\r\n    const countrys = evt.layer.feature.properties.name;\r\n    const id = evt.layer.feature.id;\r\n    this.props.setMainState(countrys, id);\r\n  }\r\n\r\n  onClickAddCustomElement = evt => {\r\n    const countryId = evt.layer.feature.id;\r\n    \r\n    if (this.buttonAddPhoto) {\r\n      this.buttonAddPhoto.remove(evt.target);\r\n    }\r\n\r\n    this.serviceGeoCordinate\r\n      .getCordinates(countryId)\r\n      .then(cordinates => {\r\n        this.buttonAddPhoto = marker(cordinates, { icon: this.customIconMarker })\r\n        this.buttonAddPhoto.addTo(evt.target);\r\n        //test\r\n        const BAP = document.getElementById('bap');\r\n        BAP.addEventListener('click', ()=> console.log(cordinates))\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const position = [this.state.lat, this.state.lng];\r\n    const { marks } = this.state;\r\n    return (\r\n      <Map \r\n        className=\"map\" \r\n        center={position} \r\n        zoom={ 3 }\r\n        maxBounds={ [[90, -180], [-70, 180]] }\r\n      >\r\n        <TileLayer\r\n          url=\"https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}\"\r\n          minZoom={ 3 }\r\n          maxZoom={ 5 }\r\n        />\r\n        <GeoJSON \r\n          data={ MapGeo } \r\n          style={ this.layerStyled.bind(this) }\r\n          onMouseOver={ this.onMouseOver }\r\n          onMouseOut={ this.onMouseOut }\r\n          onClick={ this.onClickGetCountry } // this.onClick.bind(this) // onClick replace to onClickAddCustomElement\r\n        />\r\n        {/* {marks.map((position, idx) => \r\n          <Marker key={`marker-${idx}`} position={ position } />\r\n        )} */}\r\n      </Map>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n// import countriesList from './countries.json';\r\nimport countryList from '../MapLeaflet/map.geo.json';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport './countris.css';\r\n\r\nexport default class CountryList extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tfilter: '',\r\n\t\t}\r\n\t}\r\n\topenWindow (country) {\r\n\t\tthis.props.setMainState(country);\r\n\t}\r\n\r\n\tfilterCountries(event) {\r\n\t\tlet filtertext = event.target.value.trim();\r\n\t\tthis.setState({\r\n\t\t\t\tfilter: filtertext.toLowerCase(),\r\n\t\t})\r\n\t}\r\n\tcomponentWillMount() {\r\n\t\tcountryList.features.sort(function (a, b) {\r\n\t\t\tif (a.properties.name > b.properties.name) {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\tif (a.properties.name < b.properties.name) {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t});\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"search\">\r\n\t\t\t\t\t<input id='filterCountries' type=\"text\" className=\"input-search\" placeholder=\"Search\" onChange={this.filterCountries.bind(this)} />\r\n\t\t\t\t\t<span className=\"icon-magnifier\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Scrollbars\r\n\t\t\t\t\tstyle={{ height: 'calc(100vh - 65px)' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className={'country_list'}>\r\n\t\t\t\t\t\t{countryList.features.map((countrys) => {\r\n\t\t\t\t\t\t\tif (countrys.properties.name.toLowerCase().indexOf(this.state.filter) !== -1) {\r\n\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t<Country\r\n\t\t\t\t\t\t\t\t\t\tcountry={countrys.properties.name}\r\n\t\t\t\t\t\t\t\t\t\tkey={countrys.properties.name}\r\n\t\t\t\t\t\t\t\t\t\topenWindow={this.openWindow.bind(this)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Scrollbars>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass Country extends React.Component {\r\n\tonAdd() {\r\n\t\tthis.props.openWindow(this.props.country)\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"item\">\r\n\t\t\t\t<span className=\"item-country\">{this.props.country}</span>\r\n\t\t\t\t<AddPhoto add={this.onAdd.bind(this)} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass AddPhoto extends React.Component {\r\n\tonClick() {\r\n\t\tthis.props.add();\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<button className=\"button-add\" onClick={this.onClick.bind(this)}>\r\n\t\t\t\t<span className=\"icon-add\" title=\"add\" />\r\n\t\t\t</button>\r\n\t\t)\r\n\t}\r\n}","import FireBase from \"../Firebase/FireBase\";\nimport ServiceFirebaseStore from './ServiceFirebaseStore';\n\nexport default class ServiceDB {\n  uid = FireBase.firebase.auth().currentUser.uid;\n  serviceStore = new ServiceFirebaseStore();\n\n  appealToDB(ref) {\n    return FireBase.firebase.database()\n    .ref()\n    .child(ref)\n    .once(\"value\")\n  }\n\n\tgetDataGpsFromDB(callback, file) {\n\t\tthis.appealToDB(`user/cloud-photos/${this.uid}`)\n      .then(snapshot => {\n        const data = snapshot.val();\n\n        if (!data) {\n          return;\n        }\n\n        Object.values(data.location).forEach(({ city, country, lat, lon }) => {\n          callback(false, lat, lon, country);\n\n          if (file) {\n            this.serviceStore.addFileStore(country, file)\n          }\n        });\n      }, error => console.log(error));\n  }\n  \n  setCountryAtDB(country, id) {\n    FireBase.firebase.database().ref(`user/cloud-photos/${this.uid}/countrys`)\n\t\t\t.update({[`country-${id.toLowerCase()}`]: country});\n  }\n\n  getCountriesFromDB(callback, array) {\n    this.appealToDB(`user/cloud-photos/${this.uid}/countrys`)\n      .then(snapshot => {\n        const countrys = snapshot.val();\n        if (!countrys) {\n          return;\n        }\n\n        callback(array.concat(Object.values(countrys)));\n      });\n  }\n}","import FireBase from \"../Firebase/FireBase\";\nimport ServiceFirebaseStore from './ServiceFirebaseStore';\nimport ServiceDB from './ServiceDB';\nimport shortid from 'shortid';\n\nexport default class ServiceGeocoder {\n\tserviceDB = new ServiceDB();\n\tserviceStore = new ServiceFirebaseStore();\n\n\tconstructor(lat, lon, file) {\n\t\tthis.APIKEY = 'fc519a0c1086459597e8ce63f9b77143';\n\t\tthis.APIURL = `https://api.opencagedata.com/geocode/v1/json?key=${this.APIKEY}&q=${encodeURIComponent(`${lat.toString()},${lon.toString()}`)}&pretty=1&no_annotations=1&language=en`;\n\t\tthis.uid = FireBase.firebase.auth().currentUser.uid;\n\t\tthis.file = file;\n\t\tthis.generateId = shortid.generate();\n\t}\n\n\tasync getGeocoder(ref, callback, coordinates) {\n\t\tconst response = await fetch(this.APIURL).then(response => {\n\t\t\tif (response.ok) {\n\t\t\t\treturn response.json();\n\t\t\t}\n\t\t});\n\t\tthis.setDataDB(response, ref, callback, coordinates);\n\t}\n\n\tsetDataDB({ results }, ref, callback, coordinates) {\n\t\tconst country = results[0].components.country;\n\n\t\tif (!country) {\n\t\t\treturn;\n\t\t}\n\n\t\tFireBase.firebase.database()\n\t\t\t.ref()\n\t\t\t.child(`user/cloud-photos/${this.uid}/countrys`)\n\t\t\t.once(\"value\")\n      .then(snapshot => {\n\t\t\t\tconst countrys = snapshot.val();\n\t\t\t\t\n\t\t\t\tif (!countrys || !Object.values(countrys).includes(country)) {\n\t\t\t\t\tFireBase.firebase.database().ref(`${ref}/photo-${this.generateId}`)\n\t\t\t\t\t.set({\n\t\t\t\t\t\t\"lat\": coordinates.GPSLatitude,\n\t\t\t\t\t\t\"lon\": coordinates.GPSLongitude,\n\t\t\t\t\t\t\"country\": country\n\t\t\t\t\t});\n\t\t\t\t\tthis.serviceDB.getDataGpsFromDB(callback, this.file);\n\t\t\t\t} else {\n\t\t\t\t\tcallback(false, null, null, null);\n\t\t\t\t\tthis.serviceStore.addFileStore(country, this.file)\n\t\t\t\t}\n\t\t\t});\n\t}\n}","import FireBase from \"../Firebase/FireBase\";\nimport Geocoder from './ServiceGeocoder';\nimport EXIF from 'exif-js';\n\n\nexport default class ServiceGPS {\n  coordinates = {}\n  uid = FireBase.firebase.auth().currentUser.uid;\n  ref = `user/cloud-photos/${this.uid}/location`;\n\n\tgetGPS(coordinates) {\n    if (!coordinates) {\n      return;\n    }\n    return coordinates[0].numerator + coordinates[1].numerator / (60 * coordinates[1].denominator) + coordinates[2].numerator / (3600 * coordinates[2].denominator);\n  }\n\n\tsetGPSCoordinatesDB(file, update, error) {\n\t\tEXIF.getData(file, () => {\n      const gpsTags = ['GPSLatitude', 'GPSLongitude'];\n\n      gpsTags.forEach(val => this.coordinates[val] = this.getGPS(EXIF.getTag(file, val)));\n\n      if (!this.coordinates.GPSLatitude || !this.coordinates.GPSLongitude) {\n        error(true);\n        // I will rewrite on modal\n        alert('We could not get the geolocation data from your photos, you can add photos manually by selecting a country, and add photos yourself.');\n        return;\n      }\n\n      new Geocoder(\n        this.coordinates.GPSLatitude, \n        this.coordinates.GPSLongitude,\n        file\n      ).getGeocoder(\n        this.ref,\n        update,\n        this.coordinates\n      )\n    })\n  }\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport FireBase from \"../../Firebase/FireBase\";\r\nimport ProfileUser from \"../ProfileUser/ProfileUser\";\r\nimport Map from '../MapLeaflet/Map';\r\nimport Sidebar from '../CountryList/CountryList';\r\nimport ServiceGPS from '../../Services/ServiceGPS';\r\nimport ServiceDB from '../../Services/ServiceDB';\r\nimport './dashboard.css';\r\n\r\nexport default class Dashboard extends Component {\r\n  static propTypes = {\r\n    user: PropTypes.object\r\n  }\r\n\r\n  serviceDB = new ServiceDB();\r\n  serviceGps = new ServiceGPS();\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      lat: 0,\r\n      lon: 0,\r\n      countrys: [],\r\n      error: null\r\n    }\r\n    this.fileInput = React.createRef();\r\n    this.uid = this.props.user.uid;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.serviceDB.getDataGpsFromDB(this.updateGpsData, null);\r\n    this.serviceDB.getCountriesFromDB(this.updateCountrys, this.state.countrys);\r\n  }\r\n\r\n  setMainState(country, id) {\r\n    this.serviceDB.setCountryAtDB(country, id);\r\n    \r\n    this.setState({\r\n      openWindow: true\r\n    });\r\n\r\n    console.log(country)//получает страну при нажатии add\r\n}\r\n\r\n  updateGpsData = (loading, lat, lon, country) => {\r\n    const { countrys } = this.state;\r\n\r\n    this.setState({\r\n      loading,\r\n      lat,\r\n      lon,\r\n      countrys: [\r\n        ...countrys,\r\n        country\r\n      ]\r\n    });\r\n  }\r\n\r\n  updateCountrys = countrys => {\r\n    this.setState({\r\n      countrys\r\n    }); \r\n  }\r\n\r\n  handlerClick = () => {\r\n    this.fileInput.current.click();\r\n  }\r\n\r\n  handlerChange = evt => {\r\n    const files = Array.from(evt.target.files);\r\n    files.forEach(file => this.uploadPhotos(file));\r\n    this.setState({loading: true});\r\n  }\r\n\r\n  uploadPhotos(file) {\r\n    this.serviceGps.setGPSCoordinatesDB(file, this.updateGpsData, this.getError);\r\n  }\r\n\r\n  getError = error => {\r\n    if (error) {\r\n      this.setState({\r\n        error,\r\n        loading: false\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { lat, lon, countrys, loading } = this.state;\r\n\r\n    return (\r\n      <div className=\"dashboard-container\">\r\n        <header className=\"dashboard\">\r\n        <div className=\"dashboard-title\">\r\n          Dashboard\r\n        </div>\r\n        <div className='profile'>\r\n          <button \r\n            type=\"button\" \r\n            className=\"upload-photos\"\r\n            onClick={ this.handlerClick }\r\n          >\r\n            <span className=\"upload-icon\" />\r\n            <span className=\"upload-photos-label\">Upload Files</span>\r\n            { loading ? <span className=\"upload-loading\" /> : null }\r\n          <input \r\n            type=\"file\" \r\n            multiple\r\n            className=\"input-file\"\r\n            onChange={ this.handlerChange }\r\n            ref={ this.fileInput }\r\n          />\r\n          </button>\r\n          <ProfileUser user={ this.props.user } />\r\n          <button \r\n            className=\"btn-logout\" \r\n            onClick={ () => FireBase.firebase.auth().signOut() }\r\n          >\r\n            Log out\r\n          </button>\r\n        </div>\r\n      </header>\r\n        <div className=\"layout\">\r\n          <main className=\"main-content\">\r\n            <Map lat={ lat } lon={ lon } country={ countrys } setMainState={this.setMainState.bind(this)}/>\r\n          </main>\r\n          <aside className=\"sidebar\">\r\n            <Sidebar country={ countrys } setMainState={this.setMainState.bind(this)}/>\r\n          </aside>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport PropTypes from \"prop-types\";\n\nexport default function AuthInput(props) {\n  const { name, error, onChange, onShowPassword, reference, eye, autoFocus } = props;\n\n  return (\n    <div className=\"auth-field\">\n      <input\n        type={ name === 'email' ? 'text' : !error[name].isType ? 'password' : 'text' }\n        name={ name }\n        className={`field ${ !error[name].isValid && error[name].isValid !== null ? 'is-error' : '' }`}\n        autoComplete=\"off\"\n        autoFocus={ autoFocus }\n        placeholder={ name.charAt(0).toUpperCase() + name.slice(1) }\n        onChange={ onChange }\n        ref={ reference }\n      />\n      { name !== 'email' && eye ? \n        <span \n          className=\"eye\" \n          style={{ opacity: error[name].isType ? 0.8 : 0.4 }} \n          onClick={ onShowPassword } \n        /> : null }\n      <CSSTransition\n        in={error[name].isValid}\n        timeout={300}\n        classNames=\"alert\"\n        unmountOnExit\n      >\n        <span className=\"field-valid\" />\n      </CSSTransition>\n      <CSSTransition\n        in={ !error[name].isValid && error[name].isValid !== null }\n        timeout={300}\n        classNames=\"alert\"\n        unmountOnExit\n      >\n        <span className=\"text-error\" >{ !error[name].isValid ? error[name].message : null }</span>\n      </CSSTransition>\n    </div>\n  )\n}\n\nAuthInput.propTypes = {\n  name: PropTypes.string,\n  error: PropTypes.object,\n  onChange: PropTypes.func,\n  onShowPassword: PropTypes.func,\n  isType: PropTypes.bool\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { CSSTransition } from \"react-transition-group\";\nimport AuthInput from \"../AuthInput\";\n\nexport default function signIn(props) {\n  const { onSubmit, onChange, isFormValidate, isCustomValidate, onToggleType, fireBaseError, loading } = props;\n\n  return (\n    <form className=\"auth\" noValidate={ !isFormValidate } onSubmit={ onSubmit }>\n      <div className=\"auth-fields\">\n        <AuthInput \n          onChange={ onChange }\n          name='email'\n          error={ isCustomValidate }\n          autoFocus\n        />\n        <AuthInput \n          onChange={ onChange }\n          name='password'\n          error={ isCustomValidate }\n          eye={false}\n        />\n      </div>\n      <div className=\"auth-button\">\n        <button\n          type=\"submit\"\n          className=\"button-send\"\n          disabled={ !isFormValidate }\n        >\n          { loading ? 'loading...' : 'Sign in' }\n        </button>\n      </div>\n      <CSSTransition\n        in={ !!fireBaseError }\n        timeout={300}\n        classNames=\"alert\"\n        unmountOnExit\n      >\n        <div className=\"error-server\">{ fireBaseError }</div>\n      </CSSTransition>\n    </form>\n  );\n}\n\nsignIn.propTypes = {\n  onSubmit: PropTypes.func,\n  onChange: PropTypes.func,\n  onShowPassword: PropTypes.func,\n  isFormValidate: PropTypes.bool,\n  isCustomValidate: PropTypes.object,\n  fireBaseError: PropTypes.string,\n  loading: PropTypes.bool,\n  isTypedField: PropTypes.bool\n};","import React, { Component } from 'react';\nimport SignInView from './SigninView';\nimport FireBase from \"../../../Firebase/FireBase\";\n\nexport default class SignInController extends Component {\n  state = {\n    email: null,\n    password: null,\n    formValidate: false,\n    isTypeInput: false,\n    customValidation: {\n      email: {\n        isValid: null,\n        message: ''\n      },\n      password: {\n        isValid: null,\n        message: ''\n      }\n    },\n    fireBaseError: null,\n    fireBaseLoading: false\n  };\n\n  processing(value) {\n    this.setState({fireBaseLoading: value});\n  }\n\n  handleSubmit = async event => {\n    event.preventDefault();\n    const { email, password } = event.target.elements;\n    this.processing(true);\n\n    try {\n      await FireBase.firebase\n        .auth().signInWithEmailAndPassword(email.value, password.value);\n      this.props.history.push('/dashboard');\n    } catch (error) {\n      this.setState({fireBaseError: error.message});\n      this.processing(false);\n    }\n  };\n\n  handlerChange = evt => {\n    const { name, value } = evt.target;\n    let { formValidate, customValidation } = this.state;\n\n    switch (name) {\n      case 'email':\n        customValidation.email.isValid = this.validEmail(value, customValidation.email);\n        break;\n      case 'password':\n        customValidation.password.isValid = this.validPassword(value, customValidation.password);\n        break;\n    }\n\n    if (!value.length) {\n      customValidation[name].message = 'Required field';\n    }\n\n    formValidate = Object.values(customValidation).every(value => !!value.isValid);\n\n    this.setState({\n      [name]: value,\n      formValidate,\n      customValidation\n    });\n  };\n\n  validEmail(value, error) {\n    const regExp = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    if (!regExp.test(String(value).toLowerCase())) {\n      error.message = 'Invalid email';\n      return false\n    }\n\n    return true;\n  };\n\n  validPassword(value, error) {\n\n    if (value.length < 6) {\n      error.message = 'At least 6 characters';\n      return false;\n    }\n\n    return true;\n  };\n\n  render() {\n    const { formValidate, customValidation } = this.state;\n\n    return(\n      <SignInView \n        onSubmit={ this.handleSubmit }\n        onChange={ this.handlerChange }\n        isFormValidate={ formValidate }\n        isCustomValidate={ customValidation }\n        onToggleType={ this.handlerShowPassword }\n        fireBaseError={ this.state.fireBaseError } \n        loading={ this.state.fireBaseLoading }\n      />\n    )\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { CSSTransition } from 'react-transition-group';\nimport AuthInput from \"../AuthInput\";\n\nexport default function SignUpView(props) {\n  const { onSubmit, onChange, onToggleType, isFormValidate, isCustomValidate, fireBaseError, loading } = props;\n\n  return (\n    <div className=\"wrapper-form\">\n      <form className=\"auth\" noValidate={ !isFormValidate } onSubmit={ onSubmit }>\n        <div className=\"auth-fields\">\n          <AuthInput \n            onChange={ onChange } \n            name='email' \n            error={ isCustomValidate }\n            autoFocus\n          />\n          <AuthInput \n            onChange={ onChange } \n            name='password' \n            error={ isCustomValidate }\n            onShowPassword={ onToggleType }\n            eye\n          />\n          <AuthInput \n            onChange={ onChange } \n            name='re-password' \n            error={ isCustomValidate } \n            onShowPassword={ onToggleType }\n            eye\n          />\n        </div>\n        <div className=\"auth-button\">\n          <button\n            type=\"submit\"\n            className=\"button-send\"\n            disabled={ !isFormValidate }\n          >\n            { loading ? 'loading...' : 'Sign up' }\n          </button>\n        </div>\n        <CSSTransition\n          in={ !!fireBaseError }\n          timeout={300}\n          classNames=\"alert\"\n          unmountOnExit\n        >\n          <div className=\"error-server\">{ fireBaseError }</div>\n        </CSSTransition>\n      </form>\n    </div>\n  );\n}\n\nSignUpView.propTypes = {\n  onSubmit: PropTypes.func,\n  onChange: PropTypes.func,\n  onShowPassword: PropTypes.func,\n  isFormValidate: PropTypes.bool,\n  isCustomValidate: PropTypes.object,\n  fireBaseError: PropTypes.string,\n  loading: PropTypes.bool,\n  isTypedField: PropTypes.bool\n}","import React, { Component } from 'react';\nimport SingUpView from './SignUpView';\nimport FireBase from \"../../../Firebase/FireBase\";\n\nexport default class SignUpController extends Component {\n  state = {\n    email: null,\n    password: null,\n    're-password': null,\n    formValidate: false,\n    customValidation: {\n      email: {\n        isValid: null,\n        message: ''\n      },\n      password: {\n        isValid: null,\n        message: '',\n        isType: false\n      },\n      're-password': {\n        isValid: null,\n        message: '',\n        isType: false\n      }\n    },\n    fireBaseError: null,\n    fireBaseLoading: false\n  };\n\n  processing(value) {\n    this.setState({fireBaseLoading: value});\n  }\n\n  handleSubmit = async event => {\n    event.preventDefault();\n    const { email, password } = event.target.elements;\n    this.processing(true);\n\n    try {\n      await FireBase.firebase\n        .auth().createUserWithEmailAndPassword(email.value, password.value);\n      this.props.history.push('/dashboard');\n    } catch (error) {\n      this.setState({fireBaseError: error.message});\n      this.processing(false);\n    }\n  };\n\n  handlerChange = evt => {\n    const { name, value } = evt.target;\n    let { formValidate, customValidation } = this.state;\n\n    switch (name) {\n      case 'email':\n        customValidation.email.isValid = this.validEmail(value, customValidation.email);\n        break;\n      case 'password':\n        customValidation.password.isValid = this.validPasword(value, customValidation.password);\n        if (formValidate) {\n          this.validRePassowrd(value, customValidation);\n        } else if (value === this.state['re-password']) {\n          customValidation['re-password'].isValid = true;\n        }\n        break;\n      case 're-password':\n        this.validRePassowrd(value, customValidation);\n        break;\n    }\n\n    if (!value.length) {\n      customValidation[name].message = 'Required field';\n    }\n\n    formValidate = Object.values(customValidation).every(value => !!value.isValid);\n\n    this.setState({\n      [name]: value,\n      formValidate,\n      customValidation\n    });\n  };\n\n  validEmail(value, error) {\n    const regExp = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    if (!regExp.test(String(value).toLowerCase())) {\n      error.message = 'Invalid email';\n      return false\n    }\n\n    return true;\n  };\n\n  validPasword(value, error) {\n    const regExp = /^(?=.*[a-z])(?=.*\\d).{6,}$/;\n\n    if (value.length < 6) {\n      error.message = 'At least 6 characters';\n      return false;\n    } else if (!regExp.test(value)) {\n      error.message = 'Password must contain letters and numbers';\n      return false;\n    }\n\n    return true;\n  };\n\n  validRePassowrd = (value, customValidation) => {\n    if (value !== this.state.password) {\n      customValidation['re-password'].isValid = false;\n      customValidation['re-password'].message = 'Passwords do not match';\n    } else {\n      customValidation['re-password'].isValid = true;\n    }\n  }\n\n  handlerShowPassword = evt => {\n    const { name, type } = evt.target.previousElementSibling;\n    const { customValidation } = this.state;\n    customValidation[name].isType = type === 'password';\n\n    this.setState({customValidation});\n  }\n\n  render() {\n    const { formValidate, customValidation } = this.state;\n\n    return(\n      <SingUpView \n        onSubmit={ this.handleSubmit }\n        onChange={ this.handlerChange }\n        isFormValidate={ formValidate }\n        onToggleType={ this.handlerShowPassword }\n        isCustomValidate={ customValidation }\n        fireBaseError={ this.state.fireBaseError } \n        loading={ this.state.fireBaseLoading }\n      />\n    );\n  }\n}\n","import React, { Component } from \"react\"\nimport FireBase from '../../Firebase/FireBase';\nimport firebase from \"firebase/app\";\nimport './auth-scials.css';\n\nexport default class SocialsAuthorization extends Component {\n  providerGoogle = new firebase.auth.GoogleAuthProvider();\n  providerFacebook = new firebase.auth.FacebookAuthProvider();\n\n\n  signInGoogle = () => {\n    FireBase.firebase.auth().signInWithPopup(this.providerGoogle);\n  };\n\n  signInFacebook = () => {\n    FireBase.firebase.auth().signInWithPopup(this.providerFacebook);\n  }\n\n  render() {\n    return (\n      <div className=\"auth-socials\">\n        <button\n          type=\"button\"\n          className=\"auth-social-button\"\n          onClick={ this.signInGoogle }\n        >\n          <span className=\"icon-gpl\" />\n        </button>\n        <button\n          type=\"button\"\n          className=\"auth-social-button\"\n          onClick={ this.signInFacebook }\n        >\n          <span className=\"icon-fb\" />\n        </button>\n      </div>\n    )\n  }\n}","import React, { Component } from 'react';\r\nimport { Link, Route, withRouter } from \"react-router-dom\";\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport SignIn from './SignIn/SigninController';\r\nimport SignUp from './SignUp/SignUpController';\r\nimport SocialsAuthorization from './SocialsAuthorization';\r\nimport './auth.css';\r\n\r\nclass Auth extends Component {\r\n\r\n\trender() {\r\n\t\tconst { pathname } = this.props.location;\r\n\t\tconst currentPath = pathname === '/login' ? 'Sign In' : 'Sign Up';\r\n\t\tconst authInfo = pathname === '/login' ? `to keep connected with us please login with your personal info` : `Enter your personal detail and start journey with us`;\r\n\t\treturn(\r\n\t\t\t<div className=\"container-auth\">\r\n\t\t\t\t<div className=\"auth-information\">\r\n\t\t\t\t\t<CSSTransition\r\n\t\t\t\t\t\tin={ pathname === '/login' }\r\n\t\t\t\t\t\ttimeout={ 500 }\r\n\t\t\t\t\t\tclassNames=\"example\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div className=\"auth-information-heading\">{ currentPath }</div>\r\n\t\t\t\t\t\t\t<div className=\"auth-information-descr\">{ authInfo }</div>\r\n\t\t\t\t\t\t\t<Link \r\n\t\t\t\t\t\t\t\tto={ pathname === '/login' ? '/signup' : '/login' }\r\n\t\t\t\t\t\t\t\tclassName=\"button-view\"\r\n\t\t\t\t\t\t\t\trole=\"button\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ pathname === '/login' ? 'Sign Up' : 'Sign In' }\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"wrapper-auth\">\r\n\t\t\t\t\t<CSSTransition\r\n\t\t\t\t\t\tin={ pathname === '/login' }\r\n\t\t\t\t\t\ttimeout={ 500 }\r\n\t\t\t\t\t\tclassNames=\"example\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<div className=\"auth-title\">{ currentPath }</div>\r\n\t\t\t\t\t\t\t<SocialsAuthorization/>\r\n\t\t\t\t\t\t\t<span className=\"auth-or\">{pathname === '/login' ? 'or use your email account:' : 'or use your email from registration:'}</span>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t\t<CSSTransition\r\n\t\t\t\t\t\tin={ pathname === '/login' }\r\n\t\t\t\t\t\ttimeout={ 500 }\r\n\t\t\t\t\t\tclassNames=\"example\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Route exact path=\"/login\" component={ SignIn } />\r\n\t\t\t\t\t\t\t<Route exact path=\"/signup\" component={ SignUp } />\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t\t<div className=\"auth-bottom\">\r\n\t\t\t\t\t\t{ pathname === '/login' ? 'You do not have an account?' : 'Do you have an account?' }&nbsp;\r\n\t\t\t\t\t\t<Link to={ pathname === '/login' ? '/signup' : '/login' } className=\"auth-link\" >\r\n\t\t\t\t\t\t{ pathname === '/login' ? 'Sign Up' : 'Sign In' }\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(Auth);","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Redirect } from \"react-router-dom\";\r\nimport PrivateRoute from \"../Auth/PrivateRouter\";\r\nimport Dashboard from \"../Dashboard/Dashboard\";\r\nimport Auth from '../Auth/Auth';\r\nimport FireBase from \"../../Firebase/FireBase\";\r\nimport './app.css';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    user: null,\r\n    photoURL: null,\r\n    authenticated: false,\r\n    loaded: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    FireBase.firebase.auth().onAuthStateChanged(user => {\r\n      if (user) {\r\n        this.setState({\r\n          user,\r\n          authenticated: true,\r\n          loaded: true\r\n        });\r\n      } else {\r\n        this.setState({\r\n          user: null,\r\n          authenticated: false,\r\n          loaded: true\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { authenticated, user, loaded } = this.state;\r\n\r\n    if (!loaded) {\r\n      return <div>Loading...</div>\r\n    }\r\n\r\n    return(\r\n      <Router>\r\n        <div \r\n          className={ `main-container ${ !authenticated ? 'app-auth' : 'app-dashboard' }` }\r\n        >\r\n          <PrivateRoute\r\n            exact\r\n            path='/dashboard'\r\n            component={ Dashboard }\r\n            authenticated={ authenticated }\r\n            user={ user }\r\n          />\r\n          <Redirect exact from=\"/\" to={ !authenticated ? '/login' : '/dashboard' } />\r\n          { !authenticated ? <Auth/> : null }\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport { render } from 'react-dom';\nimport './index.css';\nimport App from './component/App/App';\nimport * as serviceWorker from './serviceWorker';\n\n\nrender(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}