{"version":3,"sources":["component/Auth/PrivateRouter.jsx","Firebase/FireBase.js","Services/ServiceFirebaseStore.js","component/Modal/Modal.jsx","component/ProfileUser/ProfileUser.jsx","Services/ServiceGeoCordinats.js","component/MapLeaflet/Map.jsx","component/CountryList/CountryList.jsx","Services/ServiceDB.js","Services/ServiceGeocoder.js","Services/ServiceGPS.js","component/Dashboard/Dashboard.jsx","component/Auth/AuthInput.jsx","component/Auth/SignIn/SigninView.jsx","component/Auth/SignIn/SigninController.jsx","component/Auth/SignUp/SignUpView.jsx","component/Auth/SignUp/SignUpController.jsx","component/Auth/SocialsAuthorization.jsx","component/Auth/Auth.jsx","component/App/App.jsx","serviceWorker.js","index.jsx"],"names":["PrivateRoute","_ref","Component","component","authenticated","rest","Object","objectWithoutProperties","react_default","a","createElement","react_router","assign","render","props","FireBase","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","ServiceFirebaseStore","uid","auth","currentUser","baseAvataUrl","baseCloudPhoto","pictureFile","callback","_this","this","storage","ref","concat","put","then","snapshot","getDownloadURL","url","updateProfile","photoURL","database","set","avatar","error","console","log","setAvatar","fetch","res","ok","blob","reader","FileReader","readAsDataURL","onloadend","result","country","file","name","Modal","onCancel","onSave","onRef","rangeZoom","onChangeZoom","updateFile","className","dist_default","image","width","height","border","borderRadius","color","scale","rotate","react_input_slider_dist_index_esm","axis","x","xmin","xmax","xstep","onChange","onClick","ProfileUser","FirebaseStore","fileInput","React","createRef","inputFile","user","state","defaultAvatar","cropperOpen","img","zoom","isOpen","handlerChange","evt","files","target","window","URL","createObjectURL","current","value","setState","handlerClick","click","handlerSave","editor","getImageScaledToCanvas","toBlob","handlerCancel","handlerResetZommSlider","handlerZoomSlider","setEditorRef","updateUserProfile","setDefaultAvatar","nextProps","nextState","nextContext","updateProfileUserAvatar","getStoreDefaultAvatar","_this$state","CSSTransition","in","timeout","classNames","unmountOnExit","type","title","src","alt","accept","multiple","ServiceGeoCordinats","getCordinates","_callee","id","response","regenerator_default","wrap","_context","prev","next","json","sent","abrupt","latlng","stop","MapLeaFlet","countrys","serviceGeoCordinate","ServiceGeoCordinate","customIconMarker","divIcon","html","buttonAddPhoto","lat","lng","marks","openWindow","onMouseOut","resetStyle","layer","onClickGetCountry","feature","properties","setMainState","onClickAddCustomElement","countryId","remove","cordinates","marker","icon","addTo","document","getElementById","addEventListener","lon","toConsumableArray","weight","fillOpacity","markedСountries","includes","setStyle","position","Map","center","maxBounds","TileLayer","minZoom","maxZoom","GeoJSON","data","MapGeo","style","layerStyled","bind","onMouseOver","CountryList","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","filter","event","filtertext","trim","toLowerCase","countryList","features","sort","b","_this2","placeholder","filterCountries","lib","map","indexOf","CountryList_Country","key","Country","CountryList_AddPhoto","add","onAdd","AddPhoto","ServiceDB","serviceStore","child","once","val","values","forEach","city","addFileStore","ServiceGeocoder","serviceDB","APIKEY","APIURL","encodeURIComponent","toString","coordinates","setDataDB","results","length","GPSLatitude","GPSLongitude","components","getDataFromDB","ServiceGPS","numerator","denominator","update","EXIF","getData","shortid","generate","getGPS","getTag","alert","Geocoder","getGeocoder","Dashboard","serviceGps","updateState","loading","latitude","longitude","Array","from","uploadPhotos","getError","setGPSCoordinatesDB","ProfileUser_ProfileUser","signOut","Map_MapLeaFlet","CountryList_CountryList","AuthInput","onShowPassword","reference","isType","isValid","autoComplete","charAt","toUpperCase","slice","opacity","message","signIn","onSubmit","isFormValidate","isCustomValidate","onToggleType","fireBaseError","noValidate","disabled","SignInController","email","password","formValidate","isTypeInput","customValidation","fireBaseLoading","handleSubmit","_event$target$element","preventDefault","elements","processing","signInWithEmailAndPassword","history","push","t0","_this$setState","_evt$target","validEmail","validPassword","every","defineProperty","handlerShowPassword","_evt$target$previousE","previousElementSibling","test","String","_this$state2","isTypedField","SignUpView","SignUpController","re-password","createUserWithEmailAndPassword","validPasword","validRePassowrd","SocialsAuthorization","providerGoogle","GoogleAuthProvider","providerFacebook","FacebookAuthProvider","signInGoogle","signInWithPopup","signInFacebook","Auth","pathname","location","currentPath","authInfo","react_router_dom","to","role","SocialsAuthorization_SocialsAuthorization","exact","path","SignIn","SignUp","withRouter","App","loaded","onAuthStateChanged","component_Auth_Auth","Boolean","hostname","match","component_App_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5f68a7c9.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nexport default function PrivateRoute({component: Component, authenticated, ...rest}) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        authenticated === true ? (\r\n          <Component {...props} {...rest} />\r\n        ) : (\r\n         null\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n","import * as firebase from \"firebase/app\";\r\n\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\nexport default class FireBase {\r\n  static firebase = firebase.initializeApp({\r\n    apiKey: \"AIzaSyAeWjiyVZdXS_ZIuJIX4likai5G26c4-Ss\",\r\n    authDomain: \"travelmap-ad11c.firebaseapp.com\",\r\n    databaseURL: \"https://travelmap-ad11c.firebaseio.com\",\r\n    projectId: \"travelmap-ad11c\",\r\n    storageBucket: \"travelmap-ad11c.appspot.com\",\r\n    messagingSenderId: \"668836694216\",\r\n    appId: \"1:668836694216:web:a35a52bff6a53cf2\"\r\n  });\r\n}\r\n","import FireBase from \"../Firebase/FireBase\";\r\n\r\nexport default class ServiceFirebaseStore {\r\n  uid = FireBase.firebase.auth().currentUser.uid;\r\n  baseAvataUrl = 'user/cloud-avatar-user';\r\n  baseCloudPhoto = 'user/cloud-photos';\r\n\r\n\tupdateProfileUserAvatar(pictureFile, callback) {\t\t\r\n    const avatarRef = FireBase.firebase.storage().ref(`${this.baseAvataUrl}/${this.uid}/avatar`);\r\n\t\tavatarRef.put(pictureFile).then( snapshot => {\r\n      snapshot.ref.getDownloadURL().then(url => {\r\n        FireBase.firebase.auth().currentUser.updateProfile({photoURL: url})\r\n          .then(() => {\r\n            FireBase.firebase.database().ref(`${this.baseAvataUrl}/${this.uid}`)\r\n              .set({\"avatar\": url});\r\n              callback(url);\r\n          }, error => console.log(error));\r\n      })\r\n    });\r\n  }\r\n  \r\n  getStoreDefaultAvatar(setAvatar) {\r\n    const ref = FireBase.firebase.storage().ref(`${this.baseAvataUrl}/default-avatar/user.png`);\r\n    ref.getDownloadURL()\r\n     .then(url => {\r\n        fetch(url).then(res => {\r\n          if (res.ok) {\r\n            return res.blob();\r\n          }\r\n        })\r\n        .then(blob => {\r\n          const reader = new FileReader();\r\n          reader.readAsDataURL(blob); \r\n          reader.onloadend = () => setAvatar(reader.result);\r\n        });\r\n      })\r\n  }\r\n\r\n  addFileStore(country, file) {\r\n    FireBase.firebase.storage().ref(`${this.baseCloudPhoto}/${this.uid}/${country}/${file.name}`)\r\n      .put(file);\r\n  }\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport InputRange from 'react-input-slider';\r\nimport Cropper from 'react-avatar-editor';\r\nimport './modal.css';\r\n\r\nexport default function Modal(props) {\r\n\tconst { avatar, onCancel, onSave, onRef, rangeZoom, onChangeZoom, updateFile } = props;\r\n\r\n\treturn(\r\n\t\t<div className='modal-mask'>\r\n\t\t\t<div className='modal'>\r\n\t\t\t\t<Cropper\r\n\t\t\t\t\tref={ onRef }\r\n\t\t\t\t\timage={ avatar }\r\n\t\t\t\t\twidth={ 250 }\r\n\t\t\t\t\theight={ 250 }\r\n\t\t\t\t\tborder={ 0 }\r\n\t\t\t\t\tborderRadius={ 250 * 2 }\r\n\t\t\t\t\tcolor={ [255, 255, 255, 0.6] }\r\n\t\t\t\t\tscale={ rangeZoom }\r\n\t\t\t\t\trotate={ 0 }\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"crop-title\">Select an area for your profile photo</span>\r\n\t\t\t\t<InputRange \r\n\t\t\t\t\taxis=\"x\"\r\n\t\t\t\t\tx={ rangeZoom }\r\n\t\t\t\t\txmin={ 1 }\r\n\t\t\t\t\txmax={ 10 }\r\n\t\t\t\t\txstep={ 0.1 }\r\n\t\t\t\t\tonChange={ ({ x }) => onChangeZoom(x) }\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"crop-controls\">\r\n\t\t\t\t\t<button className=\"crop-control\" onClick={ onCancel }>Cancel</button>\r\n\t\t\t\t\t<button className=\"crop-control\" onClick={ onSave }>{ updateFile ? <span className=\"upload-loading crop-loading\" /> : null }Save</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nModal.propTypes = {\r\n\tavatar: PropTypes.string,\r\n\tonCancel: PropTypes.func,\r\n\tonSave: PropTypes.func,\r\n\tonRef: PropTypes.func,\r\n\trangeZoom: PropTypes.number,\r\n\tonChangeZoom: PropTypes.func,\r\n\tupdateFile: PropTypes.bool\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport ServiceFirebaseStore from \"../../Services/ServiceFirebaseStore\";\r\nimport Modal from '../Modal/Modal';\r\n\r\nexport default class ProfileUser extends Component {\r\n  static propTypes = {\r\n    photoURL: PropTypes.object\r\n  };\r\n\r\n  FirebaseStore = new ServiceFirebaseStore();\r\n  fileInput = React.createRef();\r\n  inputFile = React.createRef();\r\n  uid = this.props.user.uid;\r\n\r\n  state = {\r\n    pictureFile: null,\r\n    defaultAvatar: null,\r\n    updateFile: false, \r\n    cropperOpen: false,\r\n    img: null,\r\n    zoom: 1,\r\n    isOpen: false\r\n   };\r\n\r\n  componentWillUpdate(nextProps, nextState, nextContext) {\r\n    if (nextState.pictureFile !== this.state.pictureFile) {\r\n      this.FirebaseStore.updateProfileUserAvatar(nextState.pictureFile, this.updateUserProfile);\r\n    }\r\n\r\n    if (!nextState.defaultAvatar && !nextProps.user.photoURL) {\r\n      this.FirebaseStore.getStoreDefaultAvatar(this.setDefaultAvatar);\r\n    }\r\n  };\r\n\r\n  handlerChange = evt => {\r\n    const files = evt.target.files[0];\r\n    const url = window.URL.createObjectURL(files);\r\n    this.fileInput.current.value = '';\r\n\r\n    this.setState({\r\n      cropperOpen: true,\r\n      img: url,\r\n      isOpen: true,\r\n      updateFile: false\r\n    });\r\n  };\r\n\r\n  handlerClick = () => {\r\n    this.fileInput.current.click();\r\n  };\r\n\r\n  handlerSave = () => {\r\n    if (this.editor) {\r\n      const canvasScaled = this.editor.getImageScaledToCanvas();\r\n\r\n      canvasScaled.toBlob(blob => {\r\n        // const cropperImg = canvasScaled.toDataURL();\r\n\r\n        this.setState({\r\n          pictureFile: blob,\r\n          cropperOpen: false,\r\n          updateFile: true\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  handlerCancel = () => {\r\n    this.handlerResetZommSlider();\r\n\r\n    this.setState({\r\n      cropperOpen: false,\r\n      isOpen: false\r\n    });\r\n  };\r\n\r\n  handlerZoomSlider = value => {\r\n    this.setState({zoom: value});\r\n  };\r\n\r\n  handlerResetZommSlider = () => {\r\n    this.setState({zoom: 1});\r\n  };\r\n\r\n  setEditorRef = editor => this.editor = editor;\r\n\r\n  updateUserProfile = url => {\r\n    if (url) {\r\n      this.handlerResetZommSlider();\r\n      this.setState({\r\n        isOpen: false,\r\n        updateFile: false,\r\n        img: null\r\n      });\r\n    }\r\n  };\r\n\r\n  setDefaultAvatar = url => {\r\n    if (url) {\r\n      this.setState({defaultAvatar: url});\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { photoURL } = this.props.user;\r\n    const { defaultAvatar, img, zoom, isOpen, updateFile } = this.state;\r\n\r\n    return(\r\n      <div>\r\n          <CSSTransition\r\n            in={ isOpen }\r\n            timeout={ 300 }\r\n            classNames=\"popup\"\r\n            unmountOnExit\r\n          >\r\n            <Modal \r\n              onCancel={ this.handlerCancel }\r\n              onSave={ this.handlerSave }\r\n              onRef={ this.setEditorRef }\r\n              avatar={ img }\r\n              rangeZoom={ zoom }\r\n              onChangeZoom={ this.handlerZoomSlider }\r\n              updateFile={ updateFile }\r\n            /> \r\n          </CSSTransition>\r\n        <button\r\n          type=\"button\"\r\n          title=\"add profile photo\"\r\n          className=\"upload-file profile-avatar\"\r\n          onClick={ this.handlerClick }\r\n        > \r\n          <span className=\"profile-avatar-label\">Add</span>\r\n          { !(defaultAvatar || photoURL) ? <span className=\"upload-loading\" /> : <img src={ !photoURL ? defaultAvatar : photoURL } alt=\"add profile photo\"/> }\r\n        </button>\r\n        <input\r\n          accept=\"image/jpeg,image/png\"\r\n          type=\"file\"\r\n          multiple={ false }\r\n          className=\"input-file\"\r\n          onChange={ this.handlerChange }\r\n          ref={ this.fileInput }\r\n        />\r\n      </div>\r\n    )\r\n  };\r\n}","export default class ServiceGeoCordinats {\r\n\tgetCordinates = async (id) => {\r\n\t\tconst response = await fetch(`https://restcountries.eu/rest/v2/alpha/${id}/?fields=latlng`).then(response => {\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn response.json();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn response.latlng;\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { divIcon, marker } from \"leaflet\";\r\nimport { Map, Marker, TileLayer, GeoJSON } from 'react-leaflet';\r\nimport MapGeo from './map.geo.json';\r\nimport ServiceGeoCordinate from '../../Services/ServiceGeoCordinats';\r\nimport './map.css';\r\n\r\nexport default class MapLeaFlet extends Component {\r\n  static propTypes = {\r\n    lat: PropTypes.number,\r\n    lon: PropTypes.number,\r\n    country: PropTypes.array\r\n  }\r\n\r\n  countrys = [];\r\n  serviceGeoCordinate = new ServiceGeoCordinate();\r\n  customIconMarker = divIcon({\r\n    html: `<button id='bap'>TEST</button>`,\r\n    className: 'iconButtonAddPhoto',\r\n  });\r\n  buttonAddPhoto = null;\r\n\r\n  state = {\r\n    lat: 55,\r\n    lng: 10,\r\n    marks: [],\r\n    countrys: null,\r\n    openWindow: false,\r\n  }\r\n\r\n  componentWillUpdate(nextProps, nextState) {\r\n    const { lat, lon, country } = nextProps;\r\n    const { marks } = this.state;\r\n\r\n    if (lat !== this.props.lat && lon !== this.props.lon) {\r\n      this.setState({\r\n        marks: [\r\n          ...marks,\r\n          [ lat, lon ]\r\n        ]\r\n      });\r\n    }\r\n\r\n    if (country !== this.props.country) {\r\n      this.countrys = country;\r\n    }\r\n  }\r\n\r\n  layerStyled({ properties }) {\r\n    const country = properties.name;\r\n    return {\r\n      color: '#000',\r\n      weight: 1.5,\r\n      fillOpacity: this.markedСountries(country)\r\n    }\r\n  }\r\n\r\n  markedСountries(country) {\r\n    return this.countrys.includes(country) ? 0.2 : 0.8;\r\n  }\r\n\r\n  onMouseOut = evt => {\r\n    evt.target.resetStyle(evt.layer);\r\n  }\r\n\r\n  onMouseOver (evt) {\r\n    const ctx = evt.layer;\r\n    ctx.setStyle({\r\n      weight: 3,\r\n      color: '#666',\r\n      fillOpacity: 0.7,\r\n    })\r\n  }\r\n\r\n  onClickGetCountry = evt => {\r\n    const countrys = evt.layer.feature.properties.name;\r\n    this.props.setMainState(countrys);\r\n  }\r\n\r\n  onClickAddCustomElement = evt => {\r\n    const countryId = evt.layer.feature.id;\r\n    \r\n    if (this.buttonAddPhoto) {\r\n      this.buttonAddPhoto.remove(evt.target);\r\n    }\r\n\r\n    this.serviceGeoCordinate\r\n      .getCordinates(countryId)\r\n      .then(cordinates => {\r\n        this.buttonAddPhoto = marker(cordinates, { icon: this.customIconMarker })\r\n        this.buttonAddPhoto.addTo(evt.target);\r\n        //test\r\n        const BAP = document.getElementById('bap');\r\n        BAP.addEventListener('click', ()=> console.log(cordinates))\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const position = [this.state.lat, this.state.lng];\r\n    const { marks } = this.state;\r\n    return (\r\n      <Map \r\n        className=\"map\" \r\n        center={position} \r\n        zoom={ 3 }\r\n        maxBounds={ [[90, -180], [-70, 180]] }\r\n      >\r\n        <TileLayer\r\n          url=\"https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}\"\r\n          minZoom={ 3 }\r\n          maxZoom={ 5 }\r\n        />\r\n        <GeoJSON \r\n          data={ MapGeo } \r\n          style={ this.layerStyled.bind(this) }\r\n          onMouseOver={ this.onMouseOver }\r\n          onMouseOut={ this.onMouseOut }\r\n          onClick={ this.onClickGetCountry } // this.onClick.bind(this) // onClick replace to onClickAddCustomElement\r\n        />\r\n        {/* {marks.map((position, idx) => \r\n          <Marker key={`marker-${idx}`} position={ position } />\r\n        )} */}\r\n      </Map>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n// import countriesList from './countries.json';\r\nimport countryList from '../MapLeaflet/map.geo.json';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport './countris.css';\r\n\r\nexport default class CountryList extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tfilter: '',\r\n\t\t}\r\n\t}\r\n\topenWindow (country) {\r\n\t\tthis.props.setMainState(country);\r\n\t}\r\n\r\n\tfilterCountries(event) {\r\n\t\tlet filtertext = event.target.value.trim();\r\n\t\tthis.setState({\r\n\t\t\t\tfilter: filtertext.toLowerCase(),\r\n\t\t})\r\n\t}\r\n\tcomponentWillMount() {\r\n\t\tcountryList.features.sort(function (a, b) {\r\n\t\t\tif (a.properties.name > b.properties.name) {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\tif (a.properties.name < b.properties.name) {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t});\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"search\">\r\n\t\t\t\t\t<input id='filterCountries' type=\"text\" className=\"input-search\" placeholder=\"Search\" onChange={this.filterCountries.bind(this)} />\r\n\t\t\t\t\t<span className=\"icon-magnifier\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Scrollbars\r\n\t\t\t\t\tstyle={{ height: 'calc(100vh - 65px)' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className={'country_list'}>\r\n\t\t\t\t\t\t{countryList.features.map((countrys) => {\r\n\t\t\t\t\t\t\tif (countrys.properties.name.toLowerCase().indexOf(this.state.filter) !== -1) {\r\n\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t<Country\r\n\t\t\t\t\t\t\t\t\t\tcountry={countrys.properties.name}\r\n\t\t\t\t\t\t\t\t\t\tkey={countrys.properties.name}\r\n\t\t\t\t\t\t\t\t\t\topenWindow={this.openWindow.bind(this)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Scrollbars>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass Country extends React.Component {\r\n\tonAdd() {\r\n\t\tthis.props.openWindow(this.props.country)\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"item\">\r\n\t\t\t\t<span className=\"item-country\">{this.props.country}</span>\r\n\t\t\t\t<AddPhoto add={this.onAdd.bind(this)} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass AddPhoto extends React.Component {\r\n\tonClick() {\r\n\t\tthis.props.add();\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<button className=\"button-add\" onClick={this.onClick.bind(this)}>\r\n\t\t\t\t<span className=\"icon-add\" title=\"add\" />\r\n\t\t\t</button>\r\n\t\t)\r\n\t}\r\n}","import FireBase from \"../Firebase/FireBase\";\r\nimport ServiceFirebaseStore from './ServiceFirebaseStore';\r\n\r\nexport default class ServiceDB {\r\n  uid = FireBase.firebase.auth().currentUser.uid;\r\n  serviceStore = new ServiceFirebaseStore();\r\n\r\n\tgetDataFromDB(callback, file) {\r\n\t\tFireBase.firebase.database()\r\n      .ref()\r\n      .child(`user/cloud-photos/${this.uid}`)\r\n      .once(\"value\")\r\n      .then(snapshot => {\r\n        const data = snapshot.val();\r\n\r\n        if (!data) {\r\n          return;\r\n        }\r\n\r\n        Object.values(data).forEach(({ city, country, lat, lon }) => {\r\n          callback(false, lat, lon, country);\r\n\r\n          if (file) {\r\n            this.serviceStore.addFileStore(country, file)\r\n          }\r\n        });\r\n      }, error => console.log(error));\r\n\t}\r\n}","import FireBase from \"../Firebase/FireBase\";\r\nimport ServiceDB from './ServiceDB';\r\n\r\nexport default class ServiceGeocoder {\r\n\tserviceDB = new ServiceDB();\r\n\r\n\tconstructor(lat, lon, file) {\r\n\t\tthis.APIKEY = 'fc519a0c1086459597e8ce63f9b77143';\r\n\t\tthis.APIURL = `https://api.opencagedata.com/geocode/v1/json?key=${this.APIKEY}&q=${encodeURIComponent(`${lat.toString()},${lon.toString()}`)}&pretty=1&no_annotations=1&language=en`;\r\n\t\tthis.uid = FireBase.firebase.auth().currentUser.uid;\r\n\t\tthis.file = file;\r\n\t}\r\n\r\n\tasync getGeocoder(ref, callback, coordinates) {\r\n\t\tconst response = await fetch(this.APIURL).then(response => {\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn response.json();\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tthis.setDataDB(response, ref, callback, coordinates);\r\n\t}\r\n\r\n\tsetDataDB({ results }, ref, callback, coordinates) {\r\n\t\tif (!results.length) {\r\n\t\t\tconsole.log('foo')\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconsole.log('bar')\r\n\r\n\t\tFireBase.firebase.database().ref(ref)\r\n\t\t\t.set({\r\n\t\t\t\t\"lat\": coordinates.GPSLatitude,\r\n\t\t\t\t\"lon\": coordinates.GPSLongitude,\r\n\t\t\t\t\"country\": results[0].components.country,\r\n\t\t\t\t\"city\": results[0].components.city\r\n\t\t\t});\r\n\t\tthis.serviceDB.getDataFromDB(callback, this.file);\r\n\t}\r\n}","import FireBase from \"../Firebase/FireBase\";\r\nimport Geocoder from './ServiceGeocoder';\r\nimport EXIF from 'exif-js';\r\nimport shortid from 'shortid';\r\n\r\nexport default class ServiceGPS {\r\n  coordinates = {}\r\n  uid = FireBase.firebase.auth().currentUser.uid;\r\n\r\n\tgetGPS(coordinates) {\r\n    if (!coordinates) {\r\n      return;\r\n    }\r\n    return coordinates[0].numerator + coordinates[1].numerator / (60 * coordinates[1].denominator) + coordinates[2].numerator / (3600 * coordinates[2].denominator);\r\n  }\r\n\r\n\tsetGPSCoordinatesDB(file, update, error) {\r\n\t\tEXIF.getData(file, () => {\r\n      const key = shortid.generate();\r\n      const gpsTags = ['GPSLatitude', 'GPSLongitude'];\r\n\r\n      gpsTags.forEach(val => this.coordinates[val] = this.getGPS(EXIF.getTag(file, val)));\r\n\r\n      if (!this.coordinates.GPSLatitude || !this.coordinates.GPSLongitude) {\r\n        error(true);\r\n        // I will rewrite on modal\r\n        alert('We could not get the geolocation data from your photos, you can add photos manually by selecting a country, and add photos yourself.');\r\n        return;\r\n      }\r\n\r\n      new Geocoder(\r\n        this.coordinates.GPSLatitude, \r\n        this.coordinates.GPSLongitude,\r\n        file\r\n      ).getGeocoder(\r\n        `user/cloud-photos/${this.uid}/${key}`,\r\n        update,\r\n        this.coordinates\r\n      )\r\n    })\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport FireBase from \"../../Firebase/FireBase\";\r\nimport ProfileUser from \"../ProfileUser/ProfileUser\";\r\nimport Map from '../MapLeaflet/Map';\r\nimport Sidebar from '../CountryList/CountryList';\r\nimport ServiceGPS from '../../Services/ServiceGPS';\r\nimport ServiceDB from '../../Services/ServiceDB';\r\nimport './dashboard.css';\r\n\r\nexport default class Dashboard extends Component {\r\n  static propTypes = {\r\n    user: PropTypes.object\r\n  }\r\n\r\n  serviceDB = new ServiceDB();\r\n  serviceGps = new ServiceGPS();\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      loading: false,\r\n      latitude: 0,\r\n      longitude: 0,\r\n      country: [],\r\n      error: null\r\n    }\r\n    this.fileInput = React.createRef();\r\n    this.uid = this.props.user.uid;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.serviceDB.getDataFromDB(this.updateState, null);\r\n  }\r\n\r\n  setMainState = (country) => {\r\n    this.setState({\r\n        countrys: country,\r\n        openWindow: true,\r\n    })\r\n    console.log(country)//получает страну при нажатии add\r\n}\r\n\r\n  updateState = (loading, lat, lon, country) => {\r\n    if (!lat || !lon) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      loading,\r\n      latitude: lat,\r\n      longitude: lon,\r\n      country: [\r\n        ...this.state.country,\r\n        country\r\n      ]\r\n    })\r\n  }\r\n\r\n  handlerClick = () => {\r\n    this.fileInput.current.click();\r\n  }\r\n\r\n  handlerChange = evt => {\r\n    const files = Array.from(evt.target.files);\r\n    files.forEach(file => this.uploadPhotos(file));\r\n    this.setState({loading: true});\r\n  }\r\n\r\n  uploadPhotos(file) {\r\n    this.serviceGps.setGPSCoordinatesDB(file, this.updateState, this.getError);\r\n  }\r\n\r\n  getError = error => {\r\n    if (error) {\r\n      this.setState({\r\n        error,\r\n        loading: false\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { latitude, longitude, country, loading } = this.state;\r\n\r\n    return (\r\n      <div className=\"dashboard-container\">\r\n        <header className=\"dashboard\">\r\n        <div className=\"dashboard-title\">\r\n          Dashboard\r\n        </div>\r\n        <div className='profile'>\r\n          <button \r\n            type=\"button\" \r\n            className=\"upload-photos\"\r\n            onClick={ this.handlerClick }\r\n          >\r\n            <span className=\"upload-icon\" />\r\n            <span className=\"upload-photos-label\">Upload Files</span>\r\n            { loading ? <span className=\"upload-loading\" /> : null }\r\n          <input \r\n            type=\"file\" \r\n            multiple\r\n            className=\"input-file\"\r\n            onChange={ this.handlerChange }\r\n            ref={ this.fileInput }\r\n          />\r\n          </button>\r\n          <ProfileUser user={ this.props.user } />\r\n          <button \r\n            className=\"btn-logout\" \r\n            onClick={ () => FireBase.firebase.auth().signOut() }\r\n          >\r\n            Log out\r\n          </button>\r\n        </div>\r\n      </header>\r\n        <div className=\"layout\">\r\n          <main className=\"main-content\">\r\n            <Map lat={ latitude } lon={ longitude } country={ country } setMainState={this.setMainState.bind(this)}/>\r\n          </main>\r\n          <aside className=\"sidebar\">\r\n            <Sidebar country={ country } setMainState={this.setMainState.bind(this)}/>\r\n          </aside>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function AuthInput(props) {\r\n  const { name, error, onChange, onShowPassword, reference } = props;\r\n\r\n  return (\r\n    <div className=\"auth-field\">\r\n      <input\r\n        type={ name === 'email' ? 'text' : !error[name].isType ? 'password' : 'text' }\r\n        name={ name }\r\n        className={`field ${ !error[name].isValid && error[name].isValid !== null ? 'is-error' : '' }`}\r\n        autoComplete=\"off\"\r\n        placeholder={ name.charAt(0).toUpperCase() + name.slice(1) }\r\n        onChange={ onChange }\r\n        ref={ reference }\r\n      />\r\n      { name !== 'email' ? \r\n        <span \r\n          className=\"eye\" \r\n          style={{ opacity: error[name].isType ? 0.8 : 0.4 }} \r\n          onClick={ onShowPassword } \r\n        /> : null }\r\n      <CSSTransition\r\n        in={error[name].isValid}\r\n        timeout={300}\r\n        classNames=\"alert\"\r\n        unmountOnExit\r\n      >\r\n        <span className=\"field-valid\" />\r\n      </CSSTransition>\r\n      <CSSTransition\r\n        in={ !error[name].isValid && error[name].isValid !== null }\r\n        timeout={300}\r\n        classNames=\"alert\"\r\n        unmountOnExit\r\n      >\r\n        <span className=\"text-error\" >{ !error[name].isValid ? error[name].message : null }</span>\r\n      </CSSTransition>\r\n    </div>\r\n  )\r\n}\r\n\r\nAuthInput.propTypes = {\r\n  name: PropTypes.string,\r\n  error: PropTypes.object,\r\n  onChange: PropTypes.func,\r\n  onShowPassword: PropTypes.func,\r\n  isType: PropTypes.bool\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AuthInput from \"../AuthInput\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\n\r\nexport default function signIn(props) {\r\n  const { onSubmit, onChange, isFormValidate, isCustomValidate, onToggleType, fireBaseError, loading } = props;\r\n\r\n  return (\r\n    <form className=\"auth\" noValidate={ !isFormValidate } onSubmit={ onSubmit }>\r\n      <div className=\"auth-fields\">\r\n        <AuthInput \r\n          onChange={ onChange }\r\n          name='email'\r\n          error={ isCustomValidate }\r\n        />\r\n        <AuthInput \r\n          onChange={ onChange }\r\n          name='password'\r\n          error={ isCustomValidate }\r\n          onShowPassword={ onToggleType }\r\n        />\r\n      </div>\r\n      <div className=\"auth-button\">\r\n        <button\r\n          type=\"submit\"\r\n          className=\"button-send\"\r\n          disabled={ !isFormValidate }\r\n        >\r\n          { loading ? 'loading...' : 'Sign in' }\r\n        </button>\r\n      </div>\r\n      <CSSTransition\r\n        in={ !!fireBaseError }\r\n        timeout={300}\r\n        classNames=\"alert\"\r\n        unmountOnExit\r\n      >\r\n        <div className=\"error-server\">{ fireBaseError }</div>\r\n      </CSSTransition>\r\n    </form>\r\n  );\r\n}\r\n\r\nsignIn.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n  onChange: PropTypes.func,\r\n  onShowPassword: PropTypes.func,\r\n  isFormValidate: PropTypes.bool,\r\n  isCustomValidate: PropTypes.object,\r\n  fireBaseError: PropTypes.string,\r\n  loading: PropTypes.bool,\r\n  isTypedField: PropTypes.bool\r\n};","import React, { Component } from 'react';\r\nimport SignInView from './SigninView';\r\nimport FireBase from \"../../../Firebase/FireBase\";\r\n\r\nexport default class SignInController extends Component {\r\n  state = {\r\n    email: null,\r\n    password: null,\r\n    formValidate: false,\r\n    isTypeInput: false,\r\n    customValidation: {\r\n      email: {\r\n        isValid: null,\r\n        message: ''\r\n      },\r\n      password: {\r\n        isValid: null,\r\n        message: '',\r\n        isType: false\r\n      }\r\n    },\r\n    fireBaseError: null,\r\n    fireBaseLoading: false\r\n  };\r\n\r\n  processing(value) {\r\n    this.setState({fireBaseLoading: value});\r\n  }\r\n\r\n  handleSubmit = async event => {\r\n    event.preventDefault();\r\n    const { email, password } = event.target.elements;\r\n    this.processing(true);\r\n\r\n    try {\r\n      await FireBase.firebase\r\n        .auth().signInWithEmailAndPassword(email.value, password.value);\r\n      this.props.history.push('/dashboard');\r\n    } catch (error) {\r\n      this.setState({fireBaseError: error.message});\r\n      this.processing(false);\r\n    }\r\n  };\r\n\r\n  handlerChange = evt => {\r\n    const { name, value } = evt.target;\r\n    let { formValidate, customValidation } = this.state;\r\n\r\n    switch (name) {\r\n      case 'email':\r\n        customValidation.email.isValid = this.validEmail(value, customValidation.email);\r\n        break;\r\n      case 'password':\r\n        customValidation.password.isValid = this.validPassword(value, customValidation.password);\r\n        break;\r\n    }\r\n\r\n    if (!value.length) {\r\n      customValidation[name].message = 'Required field';\r\n    }\r\n\r\n    formValidate = Object.values(customValidation).every(value => !!value.isValid);\r\n\r\n    this.setState({\r\n      [name]: value,\r\n      formValidate,\r\n      customValidation\r\n    });\r\n  };\r\n\r\n  validEmail(value, error) {\r\n    const regExp = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n    if (!regExp.test(String(value).toLowerCase())) {\r\n      error.message = 'Invalid email';\r\n      return false\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  validPassword(value, error) {\r\n\r\n    if (value.length < 6) {\r\n      error.message = 'At least 6 characters';\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  handlerShowPassword = evt => {\r\n    const { name, type } = evt.target.previousElementSibling;\r\n    const { customValidation } = this.state;\r\n    customValidation[name].isType = type === 'password';\r\n\r\n    this.setState({customValidation});\r\n  }\r\n\r\n  render() {\r\n    const { formValidate, customValidation, isTypeInput } = this.state;\r\n\r\n    return(\r\n      <SignInView \r\n        onSubmit={ this.handleSubmit }\r\n        onChange={ this.handlerChange }\r\n        isFormValidate={ formValidate }\r\n        isCustomValidate={ customValidation }\r\n        onToggleType={ this.handlerShowPassword }\r\n        isTypedField={ isTypeInput }\r\n        fireBaseError={ this.state.fireBaseError } \r\n        loading={ this.state.fireBaseLoading }\r\n      />\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport AuthInput from \"../AuthInput\";\r\n\r\nexport default function SignUpView(props) {\r\n  const { onSubmit, onChange, onToggleType, isFormValidate, isCustomValidate, fireBaseError, loading } = props;\r\n\r\n  return (\r\n    <div className=\"wrapper-form\">\r\n      <form className=\"auth\" noValidate={ !isFormValidate } onSubmit={ onSubmit }>\r\n        <div className=\"auth-fields\">\r\n          <AuthInput \r\n            onChange={ onChange } \r\n            name='email' \r\n            error={ isCustomValidate } \r\n          />\r\n          <AuthInput \r\n            onChange={ onChange } \r\n            name='password' \r\n            error={ isCustomValidate }\r\n            onShowPassword={ onToggleType }\r\n          />\r\n          <AuthInput \r\n            onChange={ onChange } \r\n            name='re-password' \r\n            error={ isCustomValidate } \r\n            onShowPassword={ onToggleType }\r\n          />\r\n        </div>\r\n        <div className=\"auth-button\">\r\n          <button\r\n            type=\"submit\"\r\n            className=\"button-send\"\r\n            disabled={ !isFormValidate }\r\n          >\r\n            { loading ? 'loading...' : 'Sign up' }\r\n          </button>\r\n        </div>\r\n        <CSSTransition\r\n          in={ !!fireBaseError }\r\n          timeout={300}\r\n          classNames=\"alert\"\r\n          unmountOnExit\r\n        >\r\n          <div className=\"error-server\">{ fireBaseError }</div>\r\n        </CSSTransition>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nSignUpView.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n  onChange: PropTypes.func,\r\n  onShowPassword: PropTypes.func,\r\n  isFormValidate: PropTypes.bool,\r\n  isCustomValidate: PropTypes.object,\r\n  fireBaseError: PropTypes.string,\r\n  loading: PropTypes.bool,\r\n  isTypedField: PropTypes.bool\r\n}","import React, { Component } from 'react';\r\nimport SingUpView from './SignUpView';\r\nimport FireBase from \"../../../Firebase/FireBase\";\r\n\r\nexport default class SignUpController extends Component {\r\n  state = {\r\n    email: null,\r\n    password: null,\r\n    're-password': null,\r\n    formValidate: false,\r\n    customValidation: {\r\n      email: {\r\n        isValid: null,\r\n        message: ''\r\n      },\r\n      password: {\r\n        isValid: null,\r\n        message: '',\r\n        isType: false\r\n      },\r\n      're-password': {\r\n        isValid: null,\r\n        message: '',\r\n        isType: false\r\n      }\r\n    },\r\n    fireBaseError: null,\r\n    fireBaseLoading: false\r\n  };\r\n\r\n  processing(value) {\r\n    this.setState({fireBaseLoading: value});\r\n  }\r\n\r\n  handleSubmit = async event => {\r\n    event.preventDefault();\r\n    const { email, password } = event.target.elements;\r\n    this.processing(true);\r\n\r\n    try {\r\n      await FireBase.firebase\r\n        .auth().createUserWithEmailAndPassword(email.value, password.value);\r\n      this.props.history.push('/dashboard');\r\n    } catch (error) {\r\n      this.setState({fireBaseError: error.message});\r\n      this.processing(false);\r\n    }\r\n  };\r\n\r\n  handlerChange = evt => {\r\n    const { name, value } = evt.target;\r\n    let { formValidate, customValidation } = this.state;\r\n\r\n    switch (name) {\r\n      case 'email':\r\n        customValidation.email.isValid = this.validEmail(value, customValidation.email);\r\n        break;\r\n      case 'password':\r\n        customValidation.password.isValid = this.validPasword(value, customValidation.password);\r\n        if (formValidate) {\r\n          this.validRePassowrd(value, customValidation);\r\n        } else if (value === this.state['re-password']) {\r\n          customValidation['re-password'].isValid = true;\r\n        }\r\n        break;\r\n      case 're-password':\r\n        this.validRePassowrd(value, customValidation);\r\n        break;\r\n    }\r\n\r\n    if (!value.length) {\r\n      customValidation[name].message = 'Required field';\r\n    }\r\n\r\n    formValidate = Object.values(customValidation).every(value => !!value.isValid);\r\n\r\n    this.setState({\r\n      [name]: value,\r\n      formValidate,\r\n      customValidation\r\n    });\r\n  };\r\n\r\n  validEmail(value, error) {\r\n    const regExp = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n    if (!regExp.test(String(value).toLowerCase())) {\r\n      error.message = 'Invalid email';\r\n      return false\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  validPasword(value, error) {\r\n    const regExp = /^(?=.*[a-z])(?=.*\\d).{6,}$/;\r\n\r\n    if (value.length < 6) {\r\n      error.message = 'At least 6 characters';\r\n      return false;\r\n    } else if (!regExp.test(value)) {\r\n      error.message = 'Password must contain letters and numbers';\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  validRePassowrd = (value, customValidation) => {\r\n    if (value !== this.state.password) {\r\n      customValidation['re-password'].isValid = false;\r\n      customValidation['re-password'].message = 'Passwords do not match';\r\n    } else {\r\n      customValidation['re-password'].isValid = true;\r\n    }\r\n  }\r\n\r\n  handlerShowPassword = evt => {\r\n    const { name, type } = evt.target.previousElementSibling;\r\n    const { customValidation } = this.state;\r\n    customValidation[name].isType = type === 'password';\r\n\r\n    this.setState({customValidation});\r\n  }\r\n\r\n  render() {\r\n    const { formValidate, customValidation } = this.state;\r\n\r\n    return(\r\n      <SingUpView \r\n        onSubmit={ this.handleSubmit }\r\n        onChange={ this.handlerChange }\r\n        isFormValidate={ formValidate }\r\n        onToggleType={ this.handlerShowPassword }\r\n        isCustomValidate={ customValidation }\r\n        fireBaseError={ this.state.fireBaseError } \r\n        loading={ this.state.fireBaseLoading }\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\"\r\nimport FireBase from '../../Firebase/FireBase';\r\nimport firebase from \"firebase/app\";\r\nimport './auth-scials.css';\r\n\r\nexport default class SocialsAuthorization extends Component {\r\n  providerGoogle = new firebase.auth.GoogleAuthProvider();\r\n  providerFacebook = new firebase.auth.FacebookAuthProvider();\r\n\r\n\r\n  signInGoogle = () => {\r\n    FireBase.firebase.auth().signInWithPopup(this.providerGoogle);\r\n  };\r\n\r\n  signInFacebook = () => {\r\n    FireBase.firebase.auth().signInWithPopup(this.providerFacebook);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"auth-socials\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"auth-social-button\"\r\n          onClick={ this.signInGoogle }\r\n        >\r\n          <span className=\"icon-gpl\" />\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className=\"auth-social-button\"\r\n          onClick={ this.signInFacebook }\r\n        >\r\n          <span className=\"icon-fb\" />\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { Link, Route, withRouter } from \"react-router-dom\";\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport SignIn from './SignIn/SigninController';\r\nimport SignUp from './SignUp/SignUpController';\r\nimport SocialsAuthorization from './SocialsAuthorization';\r\nimport './auth.css';\r\n\r\nclass Auth extends Component {\r\n\r\n\trender() {\r\n\t\tconst { pathname } = this.props.location;\r\n\t\tconst currentPath = pathname === '/login' ? 'Sign In' : 'Sign Up';\r\n\t\tconst authInfo = pathname === '/login' ? `to keep connected with us please login with your personal info` : `Enter your personal detail and start journey with us`;\r\n\t\treturn(\r\n\t\t\t<div className=\"container-auth\">\r\n\t\t\t\t<div className=\"auth-information\">\r\n\t\t\t\t\t<CSSTransition\r\n\t\t\t\t\t\tin={ pathname === '/login' }\r\n\t\t\t\t\t\ttimeout={ 500 }\r\n\t\t\t\t\t\tclassNames=\"example\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className=\"auth-information-heading\">{ currentPath }</div>\r\n\t\t\t\t\t\t\t<div className=\"auth-information-descr\">{ authInfo }</div>\r\n\t\t\t\t\t\t\t<Link \r\n\t\t\t\t\t\t\t\tto={ pathname === '/login' ? '/signup' : '/login' }\r\n\t\t\t\t\t\t\t\tclassName=\"button-view\"\r\n\t\t\t\t\t\t\t\trole=\"button\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ pathname === '/login' ? 'Sign Up' : 'Sign In' }\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"wrapper-auth\">\r\n\t\t\t\t\t<CSSTransition\r\n\t\t\t\t\t\tin={ pathname === '/login' }\r\n\t\t\t\t\t\ttimeout={ 500 }\r\n\t\t\t\t\t\tclassNames=\"example\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className=\"auth-title\">{ currentPath }</div>\r\n\t\t\t\t\t\t\t<SocialsAuthorization/>\r\n\t\t\t\t\t\t\t<span className=\"auth-or\">{pathname === '/login' ? 'or use your email account:' : 'or use your email from registration:'}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t\t<CSSTransition\r\n\t\t\t\t\t\tin={ pathname === '/login' }\r\n\t\t\t\t\t\ttimeout={ 500 }\r\n\t\t\t\t\t\tclassNames=\"example\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Route exact path=\"/login\" component={ SignIn } />\r\n\t\t\t\t\t\t\t<Route exact path=\"/signup\" component={ SignUp } />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(Auth);","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Redirect } from \"react-router-dom\";\r\nimport PrivateRoute from \"../Auth/PrivateRouter\";\r\nimport Dashboard from \"../Dashboard/Dashboard\";\r\nimport Auth from '../Auth/Auth';\r\nimport FireBase from \"../../Firebase/FireBase\";\r\nimport './app.css';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    user: null,\r\n    photoURL: null,\r\n    authenticated: false,\r\n    loaded: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    FireBase.firebase.auth().onAuthStateChanged(user => {\r\n      if (user) {\r\n        this.setState({\r\n          user,\r\n          authenticated: true,\r\n          loaded: true\r\n        });\r\n      } else {\r\n        this.setState({\r\n          user: null,\r\n          authenticated: false,\r\n          loaded: true\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { authenticated, user, loaded } = this.state;\r\n\r\n    if (!loaded) {\r\n      return <div>Loading...</div>\r\n    }\r\n\r\n    return(\r\n      <Router>\r\n        <div \r\n          className={ `main-container ${ !authenticated ? 'app-auth' : 'app-dashboard' }` }\r\n        >\r\n          <PrivateRoute\r\n            exact\r\n            path='/dashboard'\r\n            component={ Dashboard }\r\n            authenticated={ authenticated }\r\n            user={ user }\r\n          />\r\n          <Redirect exact from=\"/\" to={ !authenticated ? '/login' : '/dashboard' } />\r\n          { !authenticated ? <Auth/> : null }\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport './index.css';\r\nimport App from './component/App/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\nrender(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}