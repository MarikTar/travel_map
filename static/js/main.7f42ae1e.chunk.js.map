{"version":3,"sources":["component/Auth/PrivateRouter.jsx","Firebase/FireBase.js","Services/ServiceFirebaseStore.js","component/Modal/Modal.jsx","component/ProfileUser/ProfileUser.jsx","Services/ServiceGeoCordinats.js","component/MapLeaflet/Map.jsx","component/CountryList/CountryList.jsx","Services/ServiceDB.js","Services/ServiceGeocoder.js","Services/ServiceGPS.js","component/Galeria/item.jsx","component/Galeria/galeria.jsx","component/Uploader/upload.jsx","component/Dashboard/Dashboard.jsx","component/Auth/AuthInput.jsx","component/Auth/SignIn/SigninView.jsx","component/Auth/SignIn/SigninController.jsx","component/Auth/SignUp/SignUpView.jsx","component/Auth/SignUp/SignUpController.jsx","component/Auth/SocialsAuthorization.jsx","component/Auth/Auth.jsx","component/App/App.jsx","serviceWorker.js","index.jsx","source/loader.gif"],"names":["PrivateRoute","_ref","Component","component","authenticated","rest","Object","objectWithoutProperties","react_default","a","createElement","react_router","assign","render","props","FireBase","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","ServiceFirebaseStore","uid","auth","currentUser","baseAvataUrl","baseCloudPhoto","pictureFile","callback","_this","this","storage","ref","concat","put","then","snapshot","getDownloadURL","url","updateProfile","photoURL","database","set","avatar","error","console","log","setAvatar","fetch","res","ok","blob","reader","FileReader","readAsDataURL","onloadend","result","country","file","name","Modal","onCancel","onSave","onRef","rangeZoom","onChangeZoom","updateFile","className","dist_default","image","width","height","border","borderRadius","color","scale","rotate","react_input_slider_dist_index_esm","axis","x","xmin","xmax","xstep","onChange","onClick","ProfileUser","FirebaseStore","fileInput","React","createRef","inputFile","user","state","defaultAvatar","cropperOpen","img","zoom","isOpen","handlerChange","evt","files","target","window","URL","createObjectURL","current","value","handlerResetZommSlider","setState","handlerClick","click","handlerSave","editor","getImageScaledToCanvas","toBlob","handlerCancel","handlerZoomSlider","setEditorRef","updateUserProfile","setDefaultAvatar","nextProps","nextState","nextContext","updateProfileUserAvatar","getStoreDefaultAvatar","localStorage","setItem","JSON","stringify","forceUpdate","_this$state","CSSTransition","in","timeout","classNames","unmountOnExit","type","title","src","alt","accept","multiple","ServiceGeoCordinats","getCordinates","_callee","id","response","regenerator_default","wrap","_context","prev","next","json","sent","abrupt","latlng","stop","MapLeaFlet","countrys","serviceGeoCordinate","ServiceGeoCordinate","customIconMarker","divIcon","html","iconAnchor","iconSize","buttonAddPhoto","cid","lat","lng","marks","openWindow","markAddPhoto","lon","onClickAddCustomElement","toConsumableArray","properties","fill","fillColor","weight","fillOpacity","markedСountries","includes","resetStyle","layer","ctx","setStyle","Array","isArray","changeCoordinateMarker","feature","_this2","cordinates","catch","_this3","position","Map","center","maxBounds","TileLayer","minZoom","maxZoom","GeoJSON","data","MapGeo","style","layerStyled","bind","onMouseOver","onMouseOut","map","Marker","key","icon","setMainState","CountryList","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","filter","setAddMarker","event","filtertext","trim","toLowerCase","countryList","features","sort","b","placeholder","filterCountries","lib","indexOf","CountryList_Country","addMarker","Country","background","flag","_this4","CountryList_AddPhoto","add","onAdd","AddPhoto","ServiceDB","serviceStore","child","once","appealToDB","val","location","values","forEach","city","addFileStore","update","defineProperty","array","ServiceGeocoder","serviceDB","APIKEY","APIURL","encodeURIComponent","toString","generateId","shortid","generate","coordinates","setDataDB","results","components","GPSLatitude","GPSLongitude","getDataGpsFromDB","ServiceGPS","numerator","denominator","EXIF","getData","getGPS","getTag","alert","Geocoder","getGeocoder","webkitURL","Item","visible","display","imageRef","deleteImage","index","delete","href","openModal","react_awesome_modal_lib_default","effect","onClickAway","closeModal","Galeria","images","length","clearCountry","splice","showGaleria","item_Item","Loader","Upload","uploaderHeight","fileList","setCountryAtDB","_loop","i","photoBase","startsWith","imgURL","imageTitles","some","push","e","addImages","preventDefault","stopPropagation","classList","rect","getBoundingClientRect","dx","clientX","left","dy","clientY","top","remove","dataTransfer","propImages","onClickChangeOpenWidow","onDragEnter","onDragOverEnter","onDragOver","onDragLeave","onDrop","onDragDrop","input","focus","htmlFor","galeria_Galeria","Dashboard","serviceGps","asyncToGenerator","mark","imagesDir","titles","listAll","_context2","items","element","fullPath","delegateYield","_x","apply","arguments","updateGpsData","loading","updateCountrys","from","uploadPhotos","getError","latitude","longitude","getCountriesFromDB","setGPSCoordinatesDB","ProfileUser_ProfileUser","signOut","Map_MapLeaFlet","CountryList_CountryList","addMarkerOnMap","upload_Upload","showUploader","AuthInput","onShowPassword","reference","eye","isType","isValid","autoComplete","charAt","toUpperCase","slice","opacity","message","signIn","onSubmit","isFormValidate","isCustomValidate","fireBaseError","onToggleType","noValidate","disabled","SignInController","email","password","formValidate","isTypeInput","customValidation","fireBaseLoading","handleSubmit","_event$target$element","elements","processing","signInWithEmailAndPassword","history","t0","_this$setState","_evt$target","validEmail","validPassword","every","test","String","_this$state2","handlerShowPassword","SignUpView","SignUpController","re-password","createUserWithEmailAndPassword","validPasword","validRePassowrd","_evt$target$previousE","previousElementSibling","SocialsAuthorization","providerGoogle","GoogleAuthProvider","providerFacebook","FacebookAuthProvider","signInGoogle","signInWithPopup","signInFacebook","Auth","pathname","currentPath","authInfo","react_router_dom","to","role","SocialsAuthorization_SocialsAuthorization","exact","path","SignIn","SignUp","withRouter","App","loaded","onAuthStateChanged","basename","component_Auth_Auth","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","component_App_App","document","getElementById","process","origin","addEventListener","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.7f42ae1e.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nexport default function PrivateRoute({component: Component, authenticated, ...rest}) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        authenticated === true ? (\r\n          <Component {...props} {...rest} />\r\n        ) : (\r\n         null\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n","import * as firebase from \"firebase/app\";\r\n\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\nexport default class FireBase {\r\n  static firebase = firebase.initializeApp({\r\n    apiKey: \"AIzaSyAeWjiyVZdXS_ZIuJIX4likai5G26c4-Ss\",\r\n    authDomain: \"travelmap-ad11c.firebaseapp.com\",\r\n    databaseURL: \"https://travelmap-ad11c.firebaseio.com\",\r\n    projectId: \"travelmap-ad11c\",\r\n    storageBucket: \"travelmap-ad11c.appspot.com\",\r\n    messagingSenderId: \"668836694216\",\r\n    appId: \"1:668836694216:web:a35a52bff6a53cf2\"\r\n  });\r\n}\r\n","import FireBase from \"../Firebase/FireBase\";\r\n\r\nexport default class ServiceFirebaseStore {\r\n  uid = FireBase.firebase.auth().currentUser.uid;\r\n  baseAvataUrl = 'user/cloud-avatar-user';\r\n  baseCloudPhoto = 'user/cloud-photos';\r\n\r\n\tupdateProfileUserAvatar(pictureFile, callback) {\t\t\r\n    const avatarRef = FireBase.firebase.storage().ref(`${this.baseAvataUrl}/${this.uid}/avatar`);\r\n\t\tavatarRef.put(pictureFile).then( snapshot => {\r\n      snapshot.ref.getDownloadURL().then(url => {\r\n        FireBase.firebase.auth().currentUser.updateProfile({photoURL: url})\r\n          .then(() => {\r\n            FireBase.firebase.database().ref(`${this.baseAvataUrl}/${this.uid}`)\r\n              .set({\"avatar\": url});\r\n              callback(url);\r\n          }, error => console.log(error));\r\n      })\r\n    });\r\n  }\r\n  \r\n  getStoreDefaultAvatar(setAvatar) {\r\n    const ref = FireBase.firebase.storage().ref(`${this.baseAvataUrl}/default-avatar/user.png`);\r\n    ref.getDownloadURL()\r\n     .then(url => {\r\n        fetch(url).then(res => {\r\n          if (res.ok) {\r\n            return res.blob();\r\n          }\r\n        })\r\n        .then(blob => {\r\n          const reader = new FileReader();\r\n          reader.readAsDataURL(blob); \r\n          reader.onloadend = () => setAvatar(reader.result);\r\n        });\r\n      })\r\n  }\r\n\r\n  addFileStore(country, file) {\r\n    FireBase.firebase.storage().ref(`${this.baseCloudPhoto}/${this.uid}/${country}/${file.name}`)\r\n      .put(file);\r\n  }\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport InputRange from 'react-input-slider';\r\nimport Cropper from 'react-avatar-editor';\r\nimport './modal.css';\r\n\r\nexport default function Modal(props) {\r\n\tconst { avatar, onCancel, onSave, onRef, rangeZoom, onChangeZoom, updateFile } = props;\r\n\r\n\treturn(\r\n\t\t<div className='modal-mask'>\r\n\t\t\t<div className='modal'>\r\n\t\t\t\t<Cropper\r\n\t\t\t\t\tref={ onRef }\r\n\t\t\t\t\timage={ avatar }\r\n\t\t\t\t\twidth={ 250 }\r\n\t\t\t\t\theight={ 250 }\r\n\t\t\t\t\tborder={ 0 }\r\n\t\t\t\t\tborderRadius={ 250 * 2 }\r\n\t\t\t\t\tcolor={ [255, 255, 255, 0.6] }\r\n\t\t\t\t\tscale={ rangeZoom }\r\n\t\t\t\t\trotate={ 0 }\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"crop-title\">Select an area for your profile photo</span>\r\n\t\t\t\t<InputRange \r\n\t\t\t\t\taxis=\"x\"\r\n\t\t\t\t\tx={ rangeZoom }\r\n\t\t\t\t\txmin={ 1 }\r\n\t\t\t\t\txmax={ 10 }\r\n\t\t\t\t\txstep={ 0.1 }\r\n\t\t\t\t\tonChange={ ({ x }) => onChangeZoom(x) }\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"crop-controls\">\r\n\t\t\t\t\t<button className=\"crop-control\" onClick={ onCancel }>Cancel</button>\r\n\t\t\t\t\t<button className=\"crop-control\" onClick={ onSave }>{ updateFile ? <span className=\"upload-loading crop-loading\" /> : null }Save</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nModal.propTypes = {\r\n\tavatar: PropTypes.string,\r\n\tonCancel: PropTypes.func,\r\n\tonSave: PropTypes.func,\r\n\tonRef: PropTypes.func,\r\n\trangeZoom: PropTypes.number,\r\n\tonChangeZoom: PropTypes.func,\r\n\tupdateFile: PropTypes.bool\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport ServiceFirebaseStore from \"../../Services/ServiceFirebaseStore\";\r\nimport Modal from '../Modal/Modal';\r\n\r\nexport default class ProfileUser extends Component {\r\n  static propTypes = {\r\n    photoURL: PropTypes.object\r\n  };\r\n\r\n  FirebaseStore = new ServiceFirebaseStore();\r\n  fileInput = React.createRef();\r\n  inputFile = React.createRef();\r\n  uid = this.props.user.uid;\r\n\r\n  state = {\r\n    pictureFile: null,\r\n    defaultAvatar: null,\r\n    updateFile: false,\r\n    cropperOpen: false,\r\n    img: null,\r\n    zoom: 1,\r\n    isOpen: false\r\n  };\r\n\r\n  componentWillUpdate(nextProps, nextState, nextContext) {\r\n    if (nextState.pictureFile !== this.state.pictureFile) {\r\n      this.FirebaseStore.updateProfileUserAvatar(nextState.pictureFile, this.updateUserProfile);\r\n    }\r\n\r\n    if (!nextState.defaultAvatar && !nextProps.user.photoURL) {\r\n      this.FirebaseStore.getStoreDefaultAvatar(this.setDefaultAvatar);\r\n    }\r\n  };\r\n\r\n  handlerChange = evt => {\r\n    const files = evt.target.files[0];\r\n    const url = window.URL.createObjectURL(files);\r\n    this.fileInput.current.value = '';\r\n    this.handlerResetZommSlider();\r\n\r\n    this.setState({\r\n      cropperOpen: true,\r\n      img: url,\r\n      isOpen: true,\r\n      updateFile: false\r\n    });\r\n  };\r\n\r\n  handlerClick = () => {\r\n    this.fileInput.current.click();\r\n  };\r\n\r\n  handlerSave = () => {\r\n    if (this.editor) {\r\n      const canvasScaled = this.editor.getImageScaledToCanvas();\r\n\r\n      canvasScaled.toBlob(blob => {\r\n        // const cropperImg = canvasScaled.toDataURL();\r\n\r\n        this.setState({\r\n          pictureFile: blob,\r\n          cropperOpen: false,\r\n          updateFile: true\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  addLocalStorage(value) {\r\n    localStorage.setItem(\"avatar\", JSON.stringify(value));\r\n    this.forceUpdate();\r\n  }\r\n\r\n  handlerCancel = () => {\r\n    this.handlerResetZommSlider();\r\n\r\n    this.setState({\r\n      cropperOpen: false,\r\n      isOpen: false\r\n    });\r\n  };\r\n\r\n\r\n  handlerZoomSlider = value => {\r\n    this.setState({ zoom: value });\r\n  };\r\n\r\n  handlerResetZommSlider = () => {\r\n    this.setState({ zoom: 1 });\r\n  };\r\n\r\n  setEditorRef = editor => this.editor = editor;\r\n\r\n  updateUserProfile = url => {\r\n    if (url) {\r\n      this.setState({\r\n        isOpen: false\r\n      });\r\n    }\r\n  };\r\n\r\n  setDefaultAvatar = url => {\r\n    if (url) {\r\n      this.setState({ defaultAvatar: url });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { photoURL } = this.props.user;\r\n    const { defaultAvatar, img, zoom, isOpen, updateFile } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <CSSTransition\r\n          in={isOpen}\r\n          timeout={300}\r\n          classNames=\"popup\"\r\n          unmountOnExit\r\n        >\r\n          <Modal\r\n            onCancel={this.handlerCancel}\r\n            onSave={this.handlerSave}\r\n            onRef={this.setEditorRef}\r\n            avatar={img}\r\n            rangeZoom={zoom}\r\n            onChangeZoom={this.handlerZoomSlider}\r\n            updateFile={updateFile}\r\n          />\r\n        </CSSTransition>\r\n        <button\r\n          type=\"button\"\r\n          title=\"add profile photo\"\r\n          className=\"upload-file profile-avatar\"\r\n          onClick={this.handlerClick}\r\n        >\r\n          <span className=\"profile-avatar-label\">Add</span>\r\n          {!(defaultAvatar || photoURL) ? <span className=\"upload-loading\" /> : <img src={!photoURL ? defaultAvatar : photoURL} alt=\"add profile photo\" />}\r\n        </button>\r\n        <input\r\n          accept=\"image/jpeg,image/png\"\r\n          type=\"file\"\r\n          multiple={false}\r\n          className=\"input-file\"\r\n          onChange={this.handlerChange}\r\n          ref={this.fileInput}\r\n        />\r\n      </div>\r\n    )\r\n  };\r\n}","export default class ServiceGeoCordinats {\r\n\tgetCordinates = async (id) => {\r\n\t\tconst response = await fetch(`https://restcountries.eu/rest/v2/alpha/${id}/?fields=latlng`).then(response => {\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn response.json();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn response.latlng;\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { divIcon, marker } from \"leaflet\";\r\nimport { Map, TileLayer, GeoJSON, Marker } from 'react-leaflet';\r\nimport MapGeo from './map.geo.json';\r\nimport ServiceGeoCordinate from '../../Services/ServiceGeoCordinats';\r\nimport './map.css';\r\n\r\nexport default class MapLeaFlet extends Component {\r\n  static propTypes = {\r\n    lat: PropTypes.number,\r\n    lon: PropTypes.number,\r\n    country: PropTypes.array\r\n  }\r\n\r\n  countrys = [];\r\n  serviceGeoCordinate = new ServiceGeoCordinate();\r\n  customIconMarker = divIcon({\r\n    html: `<div id=\"pin\"><button id=\"addPhoto\"></button></div>`,\r\n    className: 'iconButtonAddPhoto',\r\n    iconAnchor: [20, 80],\r\n    iconSize: [50, 80]\r\n  });\r\n\r\n  buttonAddPhoto = null;\r\n  cid = null;\r\n\r\n  state = {\r\n    lat: 55,\r\n    lng: 10,\r\n    marks: [],\r\n    countrys: null,\r\n    openWindow: false,\r\n    zoom: 2,\r\n    markAddPhoto: [],\r\n    country: null,\r\n  }\r\n\r\n  componentWillUpdate(nextProps, nextState) {\r\n    const { lat, lon, country, cid } = nextProps;\r\n    const { marks } = this.state;\r\n    \r\n    if (this.cid !== cid && cid) {\r\n      this.cid = cid;\r\n      this.onClickAddCustomElement(this.cid)\r\n    }\r\n\r\n    if (lat !== this.props.lat && lon !== this.props.lon) {\r\n      this.setState({\r\n        marks: [\r\n          ...marks,\r\n          [lat, lon]\r\n        ]\r\n      });\r\n    }\r\n\r\n    if (country !== this.props.country) {\r\n      this.countrys = country;\r\n    }\r\n  }\r\n\r\n  layerStyled({ properties }) {\r\n    const country = properties.name;\r\n    return {\r\n      color: '#000',\r\n      fill: true,\r\n      fillColor: 'gray',\r\n      weight: 1.5,\r\n      fillOpacity: this.markedСountries(country)\r\n    }\r\n  }\r\n\r\n  markedСountries(country) {\r\n    return this.countrys.includes(country) ? 0.2 : 0.8;\r\n  }\r\n\r\n  onMouseOut(evt) {\r\n    evt.target.resetStyle(evt.layer);\r\n  }\r\n\r\n  onMouseOver(evt) {\r\n    const ctx = evt.layer;\r\n    if (typeof ctx.setStyle === 'function') {\r\n      ctx.setStyle({\r\n        weight: 3,\r\n        color: '#666',\r\n        fillColor: '#41A6F1',\r\n        fillOpacity: 0.7,\r\n      })\r\n    }\r\n  }\r\n\r\n  onClickAddCustomElement(evt) {\r\n    if (Array.isArray(evt)) {\r\n      this.changeCoordinateMarker(evt[0], evt[1])\r\n    } else {\r\n      this.changeCoordinateMarker(evt.layer.feature.id, evt.layer.feature.properties.name)\r\n    }\r\n  }\r\n\r\n  changeCoordinateMarker(id, country) {\r\n    this.serviceGeoCordinate\r\n      .getCordinates(id)\r\n      .then(cordinates => {\r\n        this.setState({\r\n          country: country,\r\n          lat: cordinates[0],\r\n          lng: cordinates[1],\r\n          markAddPhoto: [cordinates],\r\n          zoom: 4,\r\n        })\r\n      })\r\n      .catch(()=>{\r\n        this.setState({\r\n          country: country,\r\n          markAddPhoto: [],\r\n          zoom: 2,\r\n        })\r\n      })\r\n  }\r\n  test(evt){\r\n    console.log(evt.target)\r\n  }\r\n\r\n  render() {\r\n    const position = [this.state.lat, this.state.lng];\r\n    return (\r\n      <Map\r\n        className=\"map\"\r\n        center={position}\r\n        zoom={this.state.zoom}\r\n        maxBounds={[[90, -180], [-70, 180]]}\r\n      >\r\n        <TileLayer\r\n          url=\"https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}\"\r\n          minZoom={2}\r\n          maxZoom={5}\r\n        />\r\n        <GeoJSON\r\n          data={MapGeo}\r\n          style={this.layerStyled.bind(this)}\r\n          onMouseOver={this.onMouseOver}\r\n          onMouseOut={this.onMouseOut.bind(this)}\r\n          onClick={this.onClickAddCustomElement.bind(this)}\r\n        />\r\n        {this.state.markAddPhoto.map((position, id) =>\r\n          <Marker\r\n            position={position}\r\n            key={id}\r\n            icon={this.customIconMarker}\r\n            onClick={() => this.props.setMainState(this.state.country, this.state.cid)}\r\n          />\r\n        )}\r\n      </Map >\r\n    )\r\n  }\r\n}","import React from 'react';\r\n// import countriesList from './countries.json';\r\nimport countryList from '../MapLeaflet/map.geo.json';\r\nimport { Scrollbars } from 'react-custom-scrollbars';//\r\nimport './countris.css';\r\n\r\nexport default class CountryList extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tfilter: '',\r\n\t\t}\r\n\t}\r\n\topenWindow (country) {\r\n\t\tthis.props.setMainState(country); \r\n\t\tconsole.log();\r\n\t}\r\n\taddMarker(id,country){\r\n\t\tthis.props.setAddMarker(id,country);\r\n\t}\r\n\r\n\tfilterCountries(event) {\r\n\t\tlet filtertext = event.target.value.trim();\r\n\t\tthis.setState({\r\n\t\t\t\tfilter: filtertext.toLowerCase(),\r\n\t\t})\r\n\t}\r\n\tcomponentWillMount() {\r\n\t\tcountryList.features.sort(function (a, b) {\r\n\t\t\tif (a.properties.name > b.properties.name) {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\tif (a.properties.name < b.properties.name) {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t});\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"search\">\r\n\t\t\t\t\t<input id='filterCountries' type=\"text\" className=\"input-search\" placeholder=\"Search\" onChange={this.filterCountries.bind(this)} />\r\n\t\t\t\t\t<span className=\"icon-magnifier\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Scrollbars\r\n\t\t\t\t\tstyle={{ height: 'calc(100vh - 65px)' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className={'country_list'}>\r\n\t\t\t\t\t\t{countryList.features.map((countrys) => {\r\n\t\t\t\t\t\t\tif (countrys.properties.name.toLowerCase().indexOf(this.state.filter) !== -1) {\r\n\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t<Country\r\n\t\t\t\t\t\t\t\t\t\tid={countrys.id}\r\n\t\t\t\t\t\t\t\t\t\tcountry={countrys.properties.name}\r\n\t\t\t\t\t\t\t\t\t\tkey={countrys.properties.name}\r\n\t\t\t\t\t\t\t\t\t\topenWindow={this.openWindow.bind(this)}\r\n\t\t\t\t\t\t\t\t\t\taddMarker={this.addMarker.bind(this)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Scrollbars>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass Country extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tbackground: 'none'\r\n\t\t}\r\n\t}\r\n\tonMouseOver(){\r\n\t\tconst flag = `https://restcountries.eu/data/${this.props.id.toLowerCase()}.svg`\r\n\t\tthis.setState({\r\n\t\t\tbackground: `url(${flag}) no-repeat left top -80px/cover`// cover/contain no-repeat right center/10% auto\r\n\t\t})\r\n\t}\r\n\tonMouseOut(){\r\n\t\tthis.setState({\r\n\t\t\tbackground: 'none'\r\n\t\t})\r\n\t}\r\n\tonClick()\r\n\t{\r\n\t\tthis.props.addMarker(this.props.id,this.props.country)\r\n\t}\r\n\tonAdd() {\r\n\t\tthis.props.openWindow(this.props.country)\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"item\" \r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tbackground: this.state.background,\r\n\t\t\t\t}} \r\n\t\t\t\tonClick={this.onClick.bind(this)}\r\n\t\t\t\tonMouseOver={()=>this.onMouseOver()}\r\n\t\t\t\tonMouseOut={()=>this.onMouseOut()}>\r\n\t\t\t\t<span className=\"item-country\">{this.props.country}</span>\r\n\t\t\t\t<AddPhoto add={this.onAdd.bind(this)} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass AddPhoto extends React.Component {\r\n\tonClick() {\r\n\t\tthis.props.add();\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<button className=\"button-add\" onClick={this.onClick.bind(this)}>\r\n\t\t\t\t<span className=\"icon-add\" title=\"add\" />\r\n\t\t\t</button>\r\n\t\t)\r\n\t}\r\n}","import FireBase from \"../Firebase/FireBase\";\r\nimport ServiceFirebaseStore from './ServiceFirebaseStore';\r\n\r\nexport default class ServiceDB {\r\n  uid = FireBase.firebase.auth().currentUser.uid;\r\n  serviceStore = new ServiceFirebaseStore();\r\n\r\n  appealToDB(ref) {\r\n    return FireBase.firebase.database()\r\n    .ref()\r\n    .child(ref)\r\n    .once(\"value\")\r\n  }\r\n\r\n\tgetDataGpsFromDB(callback, file) {\r\n\t\tthis.appealToDB(`user/cloud-photos/${this.uid}`)\r\n      .then(snapshot => {\r\n        const data = snapshot.val();\r\n\r\n        if (!data || !data.location) {\r\n          return;\r\n        }\r\n\r\n        Object.values(data.location).forEach(({ city, country, lat, lon }) => {\r\n          callback(false, lat, lon, country);\r\n\r\n          if (file) {\r\n            this.serviceStore.addFileStore(country, file)\r\n          }\r\n        });\r\n      }, error => console.log(error));\r\n  }\r\n  \r\n  setCountryAtDB(country) {\r\n    FireBase.firebase.database().ref(`user/cloud-photos/${this.uid}/countrys`)\r\n\t\t\t.update({[`${country}`]: country});\r\n  }\r\n\r\n  getCountriesFromDB(callback, array) {\r\n    this.appealToDB(`user/cloud-photos/${this.uid}/countrys`)\r\n      .then(snapshot => {\r\n        const countrys = snapshot.val();\r\n        if (!countrys) {\r\n          return;\r\n        }\r\n\r\n        callback(array.concat(Object.values(countrys)));\r\n      });\r\n  }\r\n}","import FireBase from \"../Firebase/FireBase\";\r\nimport ServiceFirebaseStore from './ServiceFirebaseStore';\r\nimport ServiceDB from './ServiceDB';\r\nimport shortid from 'shortid';\r\n\r\nexport default class ServiceGeocoder {\r\n\tserviceDB = new ServiceDB();\r\n\tserviceStore = new ServiceFirebaseStore();\r\n\r\n\tconstructor(lat, lon, file) {\r\n\t\tthis.APIKEY = 'fc519a0c1086459597e8ce63f9b77143';\r\n\t\tthis.APIURL = `https://api.opencagedata.com/geocode/v1/json?key=${this.APIKEY}&q=${encodeURIComponent(`${lat.toString()},${lon.toString()}`)}&pretty=1&no_annotations=1&language=en`;\r\n\t\tthis.uid = FireBase.firebase.auth().currentUser.uid;\r\n\t\tthis.file = file;\r\n\t\tthis.generateId = shortid.generate();\r\n\t}\r\n\r\n\tasync getGeocoder(ref, callback, coordinates) {\r\n\t\tconst response = await fetch(this.APIURL).then(response => {\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn response.json();\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.setDataDB(response, ref, callback, coordinates);\r\n\t}\r\n\r\n\tsetDataDB({ results }, ref, callback, coordinates) {\r\n\t\tconst country = results[0].components.country;\r\n\r\n\t\tif (!country) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tFireBase.firebase.database()\r\n\t\t\t.ref()\r\n\t\t\t.child(`user/cloud-photos/${this.uid}/countrys`)\r\n\t\t\t.once(\"value\")\r\n      .then(snapshot => {\r\n\t\t\t\tconst countrys = snapshot.val();\r\n\t\t\t\t\r\n\t\t\t\tif (!countrys || !Object.values(countrys).includes(country)) {\r\n\t\t\t\t\tFireBase.firebase.database().ref(`${ref}/photo-${this.generateId}`)\r\n\t\t\t\t\t.set({\r\n\t\t\t\t\t\t\"lat\": coordinates.GPSLatitude,\r\n\t\t\t\t\t\t\"lon\": coordinates.GPSLongitude,\r\n\t\t\t\t\t\t\"country\": country\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.serviceDB.getDataGpsFromDB(callback, this.file);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallback(false, null, null, null);\r\n\t\t\t\t\tthis.serviceStore.addFileStore(country, this.file)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}","import FireBase from \"../Firebase/FireBase\";\r\nimport Geocoder from './ServiceGeocoder';\r\nimport EXIF from 'exif-js';\r\n\r\n\r\nexport default class ServiceGPS {\r\n  coordinates = {}\r\n  uid = FireBase.firebase.auth().currentUser.uid;\r\n  ref = `user/cloud-photos/${this.uid}/location`;\r\n\r\n\tgetGPS(coordinates) {\r\n    if (!coordinates) {\r\n      return;\r\n    }\r\n    return coordinates[0].numerator + coordinates[1].numerator / (60 * coordinates[1].denominator) + coordinates[2].numerator / (3600 * coordinates[2].denominator);\r\n  }\r\n\r\n\tsetGPSCoordinatesDB(file, update, error) {\r\n\t\tEXIF.getData(file, () => {\r\n      const gpsTags = ['GPSLatitude', 'GPSLongitude'];\r\n\r\n      gpsTags.forEach(val => this.coordinates[val] = this.getGPS(EXIF.getTag(file, val)));\r\n\r\n      if (!this.coordinates.GPSLatitude || !this.coordinates.GPSLongitude) {\r\n        error(true);\r\n        // I will rewrite on modal\r\n        alert('We could not get the geolocation data from your photos, you can add photos manually by selecting a country, and add photos yourself.');\r\n        return;\r\n      }\r\n\r\n      new Geocoder(\r\n        this.coordinates.GPSLatitude, \r\n        this.coordinates.GPSLongitude,\r\n        file\r\n      ).getGeocoder(\r\n        this.ref,\r\n        update,\r\n        this.coordinates\r\n      )\r\n    })\r\n  }\r\n}","import React from 'react';\r\nimport Modal from 'react-awesome-modal';\r\nimport FireBase from \"../../Firebase/FireBase\";\r\n\r\nimport './galeria.css';\r\nwindow.URL = window.URL || window.webkitURL;\r\n\r\nexport default class Item extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            visible : false,\r\n            display: \"inline-block\"\r\n        }\r\n    }\r\n\r\n    deleteImage() {\r\n        const user = FireBase.firebase.auth().currentUser;\r\n        const countryRef = FireBase.firebase.storage().ref(`user/cloud-photos/${user.uid}/${this.props.country}`);\r\n        const imageRef = countryRef.child(`${this.props.title}`);\r\n        this.props.deleteImage(this.props.index);\r\n        imageRef.delete().then(function() {\r\n\r\n          }).catch(function(error) {\r\n            // Uh-oh, an error occurred!\r\n          });\r\n    }\r\n\r\n    openModal() {\r\n        this.setState({\r\n            visible : true\r\n        });\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({\r\n            visible : false\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const img = this.props.image;\r\n        return ( \r\n            <div className=\"photo\" key={img} style={{display: this.state.display}}>\r\n                <button className=\"delete-image\" onClick={() => this.deleteImage()}>❌</button>\r\n                <a href=\"javascript:void(0);\" \r\n                   onClick={() => this.openModal()}\r\n                >\r\n                    <img src={img} alt={img}/>\r\n                </a>\r\n                <Modal visible={this.state.visible}\r\n                        width=\"500\" height=\"500\"\r\n                        effect=\"fadeInUp\"\r\n                        onClickAway={() => this.closeModal()}\r\n                >\r\n                    <div className='pop-image'><img src={img} alt={img}/></div>\r\n                    <button onClick={() => this.closeModal()} className=\"close-modal\">&#x274C;</button>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport Item from './item';\r\n\r\nimport './galeria.css';\r\nimport Loader from '../../source/loader.gif'\r\n\r\nwindow.URL = window.URL || window.webkitURL;\r\n\r\nexport default class Galeria extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            images: []\r\n        }\r\n    }\r\n    componentWillReceiveProps(props) {\r\n        this.setState({\r\n            images: props.images\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(props) {\r\n        if(this.state.images.length === 0) {\r\n            this.props.clearCountry(props.country)\r\n        }\r\n    }\r\n\r\n    deleteImage(index) {\r\n        const images = this.state.images;\r\n        images.splice(index, 1);\r\n        this.setState({\r\n            images\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return ( \r\n            !this.props.showGaleria ? <img src={Loader} alt=\"Loader\" className=\"loader\"/> :\r\n            <div className='galeria'>\r\n                {this.state.images.map((image, index) => \r\n                    <Item image={image.image}\r\n                          title={image.title}\r\n                          country={this.props.country}\r\n                          key={image.title}\r\n                          index={index}\r\n                          deleteImage={this.deleteImage.bind(this)}/>\r\n                )}\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport Galeria from '../Galeria/galeria';\r\nimport FireBase from \"../../Firebase/FireBase\";\r\nimport ServiceDB from '../../Services/ServiceDB';\r\n\r\nimport './uploader.css';\r\nwindow.URL = window.URL || window.webkitURL;\r\n\r\nexport default class Upload extends React.Component {\r\n    \r\n    serviceDB = new ServiceDB();\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            images: []\r\n        }   \r\n        this.user = FireBase.firebase.auth().currentUser;\r\n    }\r\n\r\n    componentWillReceiveProps(props) {\r\n        this.setState({\r\n            images: [],\r\n            uploaderHeight: props.uploaderHeight\r\n        });\r\n    } \r\n\r\n    addImages(fileList) {\r\n        this.serviceDB.setCountryAtDB(this.props.country);\r\n        for(let i = 0; i < fileList.length; i += 1) {\r\n            const img = fileList[i];\r\n            const photoBase = FireBase.firebase.storage().ref(`user/cloud-photos/${this.user.uid}/${this.props.country}/${img.name}`);\r\n            if (!img.type.startsWith('image/')) { \r\n                continue;\r\n            }\r\n            const images = this.state.images;\r\n            const imgURL = window.URL.createObjectURL(img);           \r\n            if(!this.props.imageTitles.some(name => name === img.name) && !images.some(({title}) => title === img.name)) {\r\n                images.push({\r\n                    image: imgURL,\r\n                    title: img.name\r\n                });\r\n                photoBase.put(img);  \r\n                this.setState({\r\n                    images: images,\r\n                    country: this.props.country,\r\n                    uploaderHeight: '100px'\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    onChange(e) {\r\n        let fileList = e.target.files;\r\n        this.addImages(fileList);\r\n    }\r\n\r\n    onDragOverEnter(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        e.target.classList.add('dragover');\r\n    }\r\n\r\n    onDragLeave(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        let rect = e.target.getBoundingClientRect();\r\n        let dx = e.clientX - rect.left;\r\n        let dy = e.clientY - rect.top;\r\n        if ((dx < 0) || (dx >= rect.width) || (dy < 0) || (dy >= rect.height)) {\r\n            e.target.classList.remove('dragover');\r\n        };\r\n    }\r\n\r\n    onDragDrop(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        e.target.classList.remove('dragover');\r\n        let fileList = e.dataTransfer.files;\r\n        this.addImages(fileList);\r\n    }\r\n\r\n    render() {\r\n        let propImages = [];\r\n        for(let i = 0; i < this.props.images.length; i += 1) {\r\n            propImages.push({\r\n                image: this.props.images[i],\r\n                title: this.props.imageTitles[i]\r\n            });\r\n        }\r\n        let images = [...propImages,...this.state.images];  \r\n        console.log(\"daw\");\r\n        \r\n        return (\r\n           <div className=\"uploader\" \r\n                style={{display: this.props.openWindow ? \"block\" : \"none\",}}>\r\n               <button onClick={() => this.props.onClickChangeOpenWidow()} id=\"close-uploader\">✖</button>{/*✖ ⚔ ⚔️*/}\r\n                <div id=\"upload-container\" \r\n                    style={{\r\n                        height: this.state.uploaderHeight\r\n                    }} \r\n                    onDragEnter={(e) => this.onDragOverEnter(e)}\r\n                    onDragOver={(e) => this.onDragOverEnter(e)}\r\n                    onDragLeave={(e) => this.onDragLeave(e)}\r\n                    onDrop={(e) => this.onDragDrop(e)}>\r\n                    {/* <img id=\"upload-image\" src={uploadImg} alt='upload'/> */}\r\n                    <div>\r\n                        <input id=\"file-input\" onChange={(e) => this.onChange(e)}\r\n                               type=\"file\" \r\n                               name=\"file\" \r\n                               multiple accept=\"image/*\"\r\n                               ref={input => input && input.focus()}/>\r\n                        <label htmlFor=\"file-input\">Browse photos</label>\r\n                        <span> or drag them here</span>\r\n                    </div>\r\n                </div>\r\n                <Galeria images={images} \r\n                         country={this.props.country}\r\n                         showGaleria={this.props.showGaleria}\r\n                         clearCountry={this.props.clearCountry}/>\r\n           </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport FireBase from \"../../Firebase/FireBase\";\r\nimport ProfileUser from \"../ProfileUser/ProfileUser\";\r\nimport Map from '../MapLeaflet/Map';\r\nimport Sidebar from '../CountryList/CountryList';\r\nimport ServiceGPS from '../../Services/ServiceGPS';\r\nimport ServiceDB from '../../Services/ServiceDB';\r\nimport Uploader from '../Uploader/upload';\r\n\r\nimport './dashboard.css';\r\nwindow.URL = window.URL || window.webkitURL;\r\nexport default class Dashboard extends React.Component {\r\n  static propTypes = {\r\n    user: PropTypes.object\r\n  }\r\n\r\n  serviceDB = new ServiceDB();\r\n  serviceGps = new ServiceGPS();\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      images: [],\r\n      imageTitles: [],\r\n      showGaleria: true,\r\n      loading: false,\r\n      latitude: 0,\r\n      longitude: 0,\r\n      country: [],\r\n      countrys: [],\r\n      error: null,\r\n      cid: '',\r\n    }\r\n    this.fileInput = React.createRef();\r\n    this.uid = this.props.user.uid;\r\n    this.cid = '';\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.serviceDB.getDataGpsFromDB(this.updateGpsData, null);\r\n    this.serviceDB.getCountriesFromDB(this.updateCountrys, this.state.countrys);\r\n  }\r\n\r\n  clearCountry(country) {\r\n    // console.log(country);\r\n  }\r\n\r\n  setMainState = async (country) => {\r\n    const countrys = this.state.countrys;\r\n    countrys.push(country);\r\n    this.setState({\r\n      country: country,\r\n      countrys: countrys,\r\n      openWindow: true,\r\n      images: [],\r\n      imageTitles: [],\r\n      uploaderHeight: '100%',\r\n    });\r\n    const user = FireBase.firebase.auth().currentUser;\r\n    const storage = FireBase.firebase.storage();\r\n    const imagesDir = storage.ref(`user/cloud-photos/${user.uid}/${country}`);\r\n    let images = [];\r\n    let titles = [];\r\n    const listAll = await imagesDir.listAll().then();\r\n    if (listAll.items.length > 0) {\r\n      this.setState({\r\n        countrys: countrys,\r\n        showGaleria: false,\r\n        uploaderHeight: '100px'\r\n      });\r\n      for (let i = 0; i < listAll.items.length; i += 1) {\r\n        const element = storage.ref(listAll.items[i].fullPath);\r\n        await element.getDownloadURL().then(url => {\r\n          images[i] = url;\r\n          titles[i] = listAll.items[i].name;\r\n        });\r\n      }\r\n    }\r\n    this.setState({\r\n      imageTitles: titles,\r\n      images: images,\r\n      showGaleria: true\r\n    });\r\n  }\r\n\r\n  updateGpsData = (loading, lat, lon, country) => {\r\n    const { countrys } = this.state;\r\n\r\n    this.setState({\r\n      loading,\r\n      lat,\r\n      lon,\r\n      countrys: [\r\n        ...countrys,\r\n        country\r\n      ]\r\n    });\r\n  }\r\n\r\n  updateCountrys = countrys => {\r\n    this.setState({\r\n      countrys\r\n    });\r\n  }\r\n\r\n  onClickChangeOpenWidow() {\r\n    this.setState({\r\n      openWindow: !this.state.openWindow\r\n    });\r\n  }\r\n\r\n  addMarkerOnMap(id,country){\r\n    if(this.cid!==id){\r\n      this.cid = id;\r\n      this.setState({\r\n        cid: [this.cid,country]\r\n      })\r\n    }\r\n  }\r\n\r\n  handlerClick = () => {\r\n    this.fileInput.current.click();\r\n  }\r\n\r\n  handlerChange = evt => {\r\n    const files = Array.from(evt.target.files);\r\n    files.forEach(file => this.uploadPhotos(file));\r\n    this.setState({ loading: true });\r\n  }\r\n\r\n  uploadPhotos(file) {\r\n    this.serviceGps.setGPSCoordinatesDB(file, this.updateGpsData, this.getError);\r\n  }\r\n\r\n  getError = error => {\r\n    if (error) {\r\n      this.setState({\r\n        error,\r\n        loading: false\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { lat, lon, countrys, loading } = this.state;\r\n    return (\r\n      <div className=\"dashboard-container\">\r\n        <header className=\"dashboard\">\r\n        <div className=\"dashboard-title\">\r\n          Travel map\r\n        </div>\r\n          <div className='profile'>\r\n            <button\r\n              type=\"button\"\r\n              className=\"upload-photos\"\r\n              onClick={this.handlerClick}\r\n            >\r\n              <span className=\"upload-icon\" />\r\n              <span className=\"upload-photos-label\">Upload Files</span>\r\n              {loading ? <span className=\"upload-loading\" /> : null}\r\n              <input\r\n                type=\"file\"\r\n                multiple\r\n                className=\"input-file\"\r\n                onChange={this.handlerChange}\r\n                ref={this.fileInput}\r\n              />\r\n            </button>\r\n            <ProfileUser user={this.props.user} />\r\n            <button\r\n              className=\"btn-logout\"\r\n              onClick={() => FireBase.firebase.auth().signOut()}\r\n            >\r\n              Log out\r\n          </button>\r\n          </div>\r\n        </header>\r\n        <div className=\"layout\">\r\n          <main className=\"main-content\">\r\n            <Map lat={ lat } lon={ lon } country={ countrys } setMainState={this.setMainState.bind(this)} cid={this.state.cid}/>\r\n          </main>\r\n          <aside className=\"sidebar\">\r\n            <Sidebar country={ countrys } setMainState={this.setMainState.bind(this)} setAddMarker={(id,country)=>this.addMarkerOnMap(id,country)}/>\r\n          </aside>\r\n          <Uploader country={this.state.country}\r\n                    showUploader={this.state.openWindow}\r\n                    images={this.state.images}\r\n                    imageTitles={this.state.imageTitles}\r\n                    showGaleria={this.state.showGaleria}\r\n                    openWindow={this.state.openWindow}\r\n                    uploaderHeight={this.state.uploaderHeight}\r\n                    id={this.state.id}\r\n                    clearCountry={this.clearCountry.bind(this)}\r\n                    onClickChangeOpenWidow={this.onClickChangeOpenWidow.bind(this)}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function AuthInput(props) {\r\n  const { name, error, onChange, onShowPassword, reference, eye } = props;\r\n\r\n  return (\r\n    <div className=\"auth-field\">\r\n      <input\r\n        type={ name === 'email' ? 'text' : !error[name].isType ? 'password' : 'text' }\r\n        name={ name }\r\n        className={`field ${ !error[name].isValid && error[name].isValid !== null ? 'is-error' : '' }`}\r\n        autoComplete=\"off\"\r\n        placeholder={ name.charAt(0).toUpperCase() + name.slice(1) }\r\n        onChange={ onChange }\r\n        ref={ reference }\r\n      />\r\n      { name !== 'email' && eye ? \r\n        <span \r\n          className=\"eye\" \r\n          style={{ opacity: error[name].isType ? 0.8 : 0.4 }} \r\n          onClick={ onShowPassword } \r\n        /> : null }\r\n      <CSSTransition\r\n        in={error[name].isValid}\r\n        timeout={300}\r\n        classNames=\"alert\"\r\n        unmountOnExit\r\n      >\r\n        <span className=\"field-valid\" />\r\n      </CSSTransition>\r\n      <CSSTransition\r\n        in={ !error[name].isValid && error[name].isValid !== null }\r\n        timeout={300}\r\n        classNames=\"alert\"\r\n        unmountOnExit\r\n      >\r\n        <span className=\"text-error\" >{ !error[name].isValid ? error[name].message : null }</span>\r\n      </CSSTransition>\r\n    </div>\r\n  )\r\n}\r\n\r\nAuthInput.propTypes = {\r\n  name: PropTypes.string,\r\n  error: PropTypes.object,\r\n  onChange: PropTypes.func,\r\n  onShowPassword: PropTypes.func,\r\n  isType: PropTypes.bool\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AuthInput from \"../AuthInput\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\n\r\nexport default function signIn(props) {\r\n  const { onSubmit, onChange, isFormValidate, isCustomValidate, onToggleType, fireBaseError, loading } = props;\r\n\r\n  return (\r\n    <form className=\"auth\" noValidate={ !isFormValidate } onSubmit={ onSubmit }>\r\n      <div className=\"auth-fields\">\r\n        <AuthInput \r\n          onChange={ onChange }\r\n          name='email'\r\n          error={ isCustomValidate }\r\n        />\r\n        <AuthInput \r\n          onChange={ onChange }\r\n          name='password'\r\n          error={ isCustomValidate }\r\n          eye={false}\r\n        />\r\n      </div>\r\n      <div className=\"auth-button\">\r\n        <button\r\n          type=\"submit\"\r\n          className=\"button-send\"\r\n          disabled={ !isFormValidate }\r\n        >\r\n          { loading ? 'loading...' : 'Sign in' }\r\n        </button>\r\n      </div>\r\n      <CSSTransition\r\n        in={ !!fireBaseError }\r\n        timeout={300}\r\n        classNames=\"alert\"\r\n        unmountOnExit\r\n      >\r\n        <div className=\"error-server\">{ fireBaseError }</div>\r\n      </CSSTransition>\r\n    </form>\r\n  );\r\n}\r\n\r\nsignIn.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n  onChange: PropTypes.func,\r\n  onShowPassword: PropTypes.func,\r\n  isFormValidate: PropTypes.bool,\r\n  isCustomValidate: PropTypes.object,\r\n  fireBaseError: PropTypes.string,\r\n  loading: PropTypes.bool,\r\n  isTypedField: PropTypes.bool\r\n};","import React, { Component } from 'react';\r\nimport SignInView from './SigninView';\r\nimport FireBase from \"../../../Firebase/FireBase\";\r\n\r\nexport default class SignInController extends Component {\r\n  state = {\r\n    email: null,\r\n    password: null,\r\n    formValidate: false,\r\n    isTypeInput: false,\r\n    customValidation: {\r\n      email: {\r\n        isValid: null,\r\n        message: ''\r\n      },\r\n      password: {\r\n        isValid: null,\r\n        message: ''\r\n      }\r\n    },\r\n    fireBaseError: null,\r\n    fireBaseLoading: false\r\n  };\r\n\r\n  processing(value) {\r\n    this.setState({ fireBaseLoading: value });\r\n  }\r\n\r\n  handleSubmit = async event => {\r\n    event.preventDefault();\r\n    const { email, password } = event.target.elements;\r\n    this.processing(true);\r\n\r\n    try {\r\n      await FireBase.firebase\r\n        .auth().signInWithEmailAndPassword(email.value, password.value);\r\n      this.props.history.push('/dashboard');\r\n    } catch (error) {\r\n      this.setState({ fireBaseError: error.message });\r\n      this.processing(false);\r\n    }\r\n  };\r\n\r\n  handlerChange = evt => {\r\n    const { name, value } = evt.target;\r\n    let { formValidate, customValidation } = this.state;\r\n\r\n    switch (name) {\r\n      case 'email':\r\n        customValidation.email.isValid = this.validEmail(value, customValidation.email);\r\n        break;\r\n      case 'password':\r\n        customValidation.password.isValid = this.validPassword(value, customValidation.password);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    if (!value.length) {\r\n      customValidation[name].message = 'Required field';\r\n    }\r\n\r\n    formValidate = Object.values(customValidation).every(value => !!value.isValid);\r\n\r\n    this.setState({\r\n      [name]: value,\r\n      formValidate,\r\n      customValidation\r\n    });\r\n  };\r\n\r\n  validEmail(value, error) {\r\n    const regExp = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n    if (!regExp.test(String(value).toLowerCase())) {\r\n      error.message = 'Invalid email';\r\n      return false\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  validPassword(value, error) {\r\n\r\n    if (value.length < 6) {\r\n      error.message = 'At least 6 characters';\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  render() {\r\n    const { formValidate, customValidation } = this.state;\r\n\r\n    return(\r\n      <SignInView \r\n        onSubmit={ this.handleSubmit }\r\n        onChange={ this.handlerChange }\r\n        isFormValidate={ formValidate }\r\n        isCustomValidate={ customValidation }\r\n        onToggleType={ this.handlerShowPassword }\r\n        fireBaseError={ this.state.fireBaseError } \r\n        loading={ this.state.fireBaseLoading }\r\n      />\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport AuthInput from \"../AuthInput\";\r\n\r\nexport default function SignUpView(props) {\r\n  const { onSubmit, onChange, onToggleType, isFormValidate, isCustomValidate, fireBaseError, loading } = props;\r\n\r\n  return (\r\n    <div className=\"wrapper-form\">\r\n      <form className=\"auth\" noValidate={ !isFormValidate } onSubmit={ onSubmit }>\r\n        <div className=\"auth-fields\">\r\n          <AuthInput \r\n            onChange={ onChange } \r\n            name='email' \r\n            error={ isCustomValidate } \r\n          />\r\n          <AuthInput \r\n            onChange={ onChange } \r\n            name='password' \r\n            error={ isCustomValidate }\r\n            onShowPassword={ onToggleType }\r\n            eye\r\n          />\r\n          <AuthInput \r\n            onChange={ onChange } \r\n            name='re-password' \r\n            error={ isCustomValidate } \r\n            onShowPassword={ onToggleType }\r\n            eye\r\n          />\r\n        </div>\r\n        <div className=\"auth-button\">\r\n          <button\r\n            type=\"submit\"\r\n            className=\"button-send\"\r\n            disabled={ !isFormValidate }\r\n          >\r\n            { loading ? 'loading...' : 'Sign up' }\r\n          </button>\r\n        </div>\r\n        <CSSTransition\r\n          in={ !!fireBaseError }\r\n          timeout={300}\r\n          classNames=\"alert\"\r\n          unmountOnExit\r\n        >\r\n          <div className=\"error-server\">{ fireBaseError }</div>\r\n        </CSSTransition>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nSignUpView.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n  onChange: PropTypes.func,\r\n  onShowPassword: PropTypes.func,\r\n  isFormValidate: PropTypes.bool,\r\n  isCustomValidate: PropTypes.object,\r\n  fireBaseError: PropTypes.string,\r\n  loading: PropTypes.bool,\r\n  isTypedField: PropTypes.bool\r\n}","import React, { Component } from 'react';\r\nimport SingUpView from './SignUpView';\r\nimport FireBase from \"../../../Firebase/FireBase\";\r\n\r\nexport default class SignUpController extends Component {\r\n  state = {\r\n    email: null,\r\n    password: null,\r\n    're-password': null,\r\n    formValidate: false,\r\n    customValidation: {\r\n      email: {\r\n        isValid: null,\r\n        message: ''\r\n      },\r\n      password: {\r\n        isValid: null,\r\n        message: '',\r\n        isType: false\r\n      },\r\n      're-password': {\r\n        isValid: null,\r\n        message: '',\r\n        isType: false\r\n      }\r\n    },\r\n    fireBaseError: null,\r\n    fireBaseLoading: false\r\n  };\r\n\r\n  processing(value) {\r\n    this.setState({ fireBaseLoading: value });\r\n  }\r\n\r\n  handleSubmit = async event => {\r\n    event.preventDefault();\r\n    const { email, password } = event.target.elements;\r\n    this.processing(true);\r\n\r\n    try {\r\n      await FireBase.firebase\r\n        .auth().createUserWithEmailAndPassword(email.value, password.value);\r\n      this.props.history.push('/dashboard');\r\n    } catch (error) {\r\n      this.setState({ fireBaseError: error.message });\r\n      this.processing(false);\r\n    }\r\n  };\r\n\r\n  handlerChange = evt => {\r\n    const { name, value } = evt.target;\r\n    let { formValidate, customValidation } = this.state;\r\n\r\n    switch (name) {\r\n      case 'email':\r\n        customValidation.email.isValid = this.validEmail(value, customValidation.email);\r\n        break;\r\n      case 'password':\r\n        customValidation.password.isValid = this.validPasword(value, customValidation.password);\r\n        if (formValidate) {\r\n          this.validRePassowrd(value, customValidation);\r\n        } else if (value === this.state['re-password']) {\r\n          customValidation['re-password'].isValid = true;\r\n        }\r\n        break;\r\n      case 're-password':\r\n        this.validRePassowrd(value, customValidation);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    if (!value.length) {\r\n      customValidation[name].message = 'Required field';\r\n    }\r\n\r\n    formValidate = Object.values(customValidation).every(value => !!value.isValid);\r\n\r\n    this.setState({\r\n      [name]: value,\r\n      formValidate,\r\n      customValidation\r\n    });\r\n  };\r\n\r\n  validEmail(value, error) {\r\n    const regExp = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n    if (!regExp.test(String(value).toLowerCase())) {\r\n      error.message = 'Invalid email';\r\n      return false\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  validPasword(value, error) {\r\n    const regExp = /^(?=.*[a-z])(?=.*\\d).{6,}$/;\r\n\r\n    if (value.length < 6) {\r\n      error.message = 'At least 6 characters';\r\n      return false;\r\n    } else if (!regExp.test(value)) {\r\n      error.message = 'Password must contain letters and numbers';\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  validRePassowrd = (value, customValidation) => {\r\n    if (value !== this.state.password) {\r\n      customValidation['re-password'].isValid = false;\r\n      customValidation['re-password'].message = 'Passwords do not match';\r\n    } else {\r\n      customValidation['re-password'].isValid = true;\r\n    }\r\n  }\r\n\r\n  handlerShowPassword = evt => {\r\n    const { name, type } = evt.target.previousElementSibling;\r\n    const { customValidation } = this.state;\r\n    customValidation[name].isType = type === 'password';\r\n\r\n    this.setState({ customValidation });\r\n  }\r\n\r\n  render() {\r\n    const { formValidate, customValidation } = this.state;\r\n\r\n    return (\r\n      <SingUpView\r\n        onSubmit={this.handleSubmit}\r\n        onChange={this.handlerChange}\r\n        isFormValidate={formValidate}\r\n        onToggleType={this.handlerShowPassword}\r\n        isCustomValidate={customValidation}\r\n        fireBaseError={this.state.fireBaseError}\r\n        loading={this.state.fireBaseLoading}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\"\r\nimport FireBase from '../../Firebase/FireBase';\r\nimport firebase from \"firebase/app\";\r\nimport './auth-scials.css';\r\n\r\nexport default class SocialsAuthorization extends Component {\r\n  providerGoogle = new firebase.auth.GoogleAuthProvider();\r\n  providerFacebook = new firebase.auth.FacebookAuthProvider();\r\n\r\n\r\n  signInGoogle = () => {\r\n    FireBase.firebase.auth().signInWithPopup(this.providerGoogle);\r\n  };\r\n\r\n  signInFacebook = () => {\r\n    FireBase.firebase.auth().signInWithPopup(this.providerFacebook);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"auth-socials\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"auth-social-button\"\r\n          onClick={ this.signInGoogle }\r\n        >\r\n          <span className=\"icon-gpl\" />\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className=\"auth-social-button\"\r\n          onClick={ this.signInFacebook }\r\n        >\r\n          <span className=\"icon-fb\" />\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { Link, Route, withRouter } from \"react-router-dom\";\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport SignIn from './SignIn/SigninController';\r\nimport SignUp from './SignUp/SignUpController';\r\nimport SocialsAuthorization from './SocialsAuthorization';\r\nimport './auth.css';\r\n\r\nclass Auth extends Component {\r\n\r\n\trender() {\r\n\t\tconst { pathname } = this.props.location;\r\n\t\tconst currentPath = pathname === '/login' ? 'Sign In' : 'Sign Up';\r\n\t\tconst authInfo = pathname === '/login' ? `to keep connected with us please login with your personal info` : `Enter your personal detail and start journey with us`;\r\n\t\treturn(\r\n\t\t\t<div className=\"container-auth\">\r\n\t\t\t\t<div className=\"auth-information\">\r\n\t\t\t\t\t<CSSTransition\r\n\t\t\t\t\t\tin={ pathname === '/login' }\r\n\t\t\t\t\t\ttimeout={ 500 }\r\n\t\t\t\t\t\tclassNames=\"example\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className=\"auth-information-heading\">{ currentPath }</div>\r\n\t\t\t\t\t\t\t<div className=\"auth-information-descr\">{ authInfo }</div>\r\n\t\t\t\t\t\t\t<Link \r\n\t\t\t\t\t\t\t\tto={ pathname === '/login' ? '/signup' : '/login' }\r\n\t\t\t\t\t\t\t\tclassName=\"button-view\"\r\n\t\t\t\t\t\t\t\trole=\"button\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ pathname === '/login' ? 'Sign Up' : 'Sign In' }\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"wrapper-auth\">\r\n\t\t\t\t\t<CSSTransition\r\n\t\t\t\t\t\tin={ pathname === '/login' }\r\n\t\t\t\t\t\ttimeout={ 500 }\r\n\t\t\t\t\t\tclassNames=\"example\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className=\"auth-title\">{ currentPath }</div>\r\n\t\t\t\t\t\t\t<SocialsAuthorization/>\r\n\t\t\t\t\t\t\t<span className=\"auth-or\">{pathname === '/login' ? 'or use your email account:' : 'or use your email from registration:'}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t\t<CSSTransition\r\n\t\t\t\t\t\tin={ pathname === '/login' }\r\n\t\t\t\t\t\ttimeout={ 500 }\r\n\t\t\t\t\t\tclassNames=\"example\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Route exact path=\"/login\" component={ SignIn } />\r\n\t\t\t\t\t\t\t<Route exact path=\"/signup\" component={ SignUp } />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(Auth);","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Redirect } from \"react-router-dom\";\r\nimport PrivateRoute from \"../Auth/PrivateRouter\";\r\nimport Dashboard from \"../Dashboard/Dashboard\";\r\nimport Auth from '../Auth/Auth';\r\nimport FireBase from \"../../Firebase/FireBase\";\r\nimport './app.css';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    user: null,\r\n    photoURL: null,\r\n    authenticated: false,\r\n    loaded: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    FireBase.firebase.auth().onAuthStateChanged(user => {\r\n      if (user) {\r\n        this.setState({\r\n          user,\r\n          authenticated: true,\r\n          loaded: true\r\n        });\r\n      } else {\r\n        this.setState({\r\n          user: null,\r\n          authenticated: false,\r\n          loaded: true\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { authenticated, user, loaded } = this.state;\r\n\r\n    if (!loaded) {\r\n      return <div>Loading...</div>\r\n    }\r\n\r\n    return(\r\n      <Router basename='/travel_map/'>\r\n        <div \r\n          className={ `main-container ${ !authenticated ? 'app-auth' : 'app-dashboard' }` }\r\n        >\r\n          <PrivateRoute\r\n            exact\r\n            path='/dashboard'\r\n            component={ Dashboard }\r\n            authenticated={ authenticated }\r\n            user={ user }\r\n          />\r\n          <Redirect exact from=\"/\" to={ !authenticated ? '/login' : '/dashboard' } />\r\n          { !authenticated ? <Auth/> : null }\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport App from './component/App/App';\r\n\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nrender(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n","module.exports = __webpack_public_path__ + \"static/media/loader.22043e8c.gif\";"],"sourceRoot":""}